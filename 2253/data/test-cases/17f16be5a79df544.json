{"uid":"17f16be5a79df544","name":"test_storage_re_use","fullName":"tests.integration.ha_tests.test_ha#test_storage_re_use","historyId":"163d64357549dfd513cdd997aa331355","time":{"start":1725933154563,"stop":1725933314571,"duration":160008},"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the mongod\n    properly uses the storage that was provided. (ie. doesn't just re-sync everything from\n    primary, but instead computes a diff between current storage and primary storage.)\n    ","descriptionHtml":"<p>Verifies that database units with attached storage correctly repurpose storage.</p>\n<pre><code>It is not enough to verify that Juju attaches the storage. Hence test checks that the mongod\nproperly uses the storage that was provided. (ie. doesn't just re-sync everything from\nprimary, but instead computes a diff between current storage and primary storage.)\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1725932917698,"stop":1725932917699,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1725932917699,"stop":1725932917699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1725932917699,"stop":1725932917837,"duration":138},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1725933153529,"stop":1725933154562,"duration":1033},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1725933153529,"stop":1725933153529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the mongod\n    properly uses the storage that was provided. (ie. doesn't just re-sync everything from\n    primary, but instead computes a diff between current storage and primary storage.)\n    ","status":"passed","steps":[],"attachments":[{"uid":"32cb8673037d9b9b","name":"log","source":"32cb8673037d9b9b.txt","type":"text/plain","size":819}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1725933314572,"stop":1725933316697,"duration":2125},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1725933316697,"stop":1725933316697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1725936180173,"stop":1725936180520,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1725936180520,"stop":1725936180520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1725936180520,"stop":1725936180520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1725936180521,"stop":1725936180521,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_ha"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10930-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_ha"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"42b0498e3c279299","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":39,"passed":1,"unknown":2,"total":43},"items":[{"uid":"986a64b2263855b9","reportUrl":"../2244//#testresult/986a64b2263855b9","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725846025093,"stop":1725846025093,"duration":0}},{"uid":"4a37869aaaf781ca","reportUrl":"../2242//#testresult/4a37869aaaf781ca","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725759714667,"stop":1725759714667,"duration":0}},{"uid":"b617b79736a642ce","reportUrl":"../2240//#testresult/b617b79736a642ce","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725673918263,"stop":1725673918263,"duration":0}},{"uid":"f17942f8ca59efcb","reportUrl":"../2235//#testresult/f17942f8ca59efcb","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725586833481,"stop":1725586833481,"duration":0}},{"uid":"f12fefe4213d79fa","reportUrl":"../2232//#testresult/f12fefe4213d79fa","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725500645801,"stop":1725500645801,"duration":0}},{"uid":"5bf0cd1405866d4e","reportUrl":"../2228//#testresult/5bf0cd1405866d4e","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725413909588,"stop":1725413909588,"duration":0}},{"uid":"cf19f5e5ed1002aa","reportUrl":"../2218//#testresult/cf19f5e5ed1002aa","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1725327804295,"stop":1725327804493,"duration":198}},{"uid":"460ac899d3aa9129","reportUrl":"../2207//#testresult/460ac899d3aa9129","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1725241400099,"stop":1725241400300,"duration":201}},{"uid":"d14d41aea5a2bb70","reportUrl":"../2206//#testresult/d14d41aea5a2bb70","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1725155428117,"stop":1725155428343,"duration":226}},{"uid":"ba93b7bf13575ad5","reportUrl":"../2205//#testresult/ba93b7bf13575ad5","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1725068620009,"stop":1725068620219,"duration":210}},{"uid":"925c559a6c077f55","reportUrl":"../2191//#testresult/925c559a6c077f55","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724982156535,"stop":1724982156728,"duration":193}},{"uid":"71c306c2e2ef1a89","reportUrl":"../2186//#testresult/71c306c2e2ef1a89","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724895831790,"stop":1724895832040,"duration":250}},{"uid":"205340e68da201bf","reportUrl":"../2183//#testresult/205340e68da201bf","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724809346091,"stop":1724809346303,"duration":212}},{"uid":"a216b1a6c65dfd07","reportUrl":"../2182//#testresult/a216b1a6c65dfd07","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724722953617,"stop":1724722953787,"duration":170}},{"uid":"119597d87e29fafd","reportUrl":"../2181//#testresult/119597d87e29fafd","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724636499467,"stop":1724636499679,"duration":212}},{"uid":"db5bd0844df7cb0c","reportUrl":"../2180//#testresult/db5bd0844df7cb0c","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724550132292,"stop":1724550132471,"duration":179}},{"uid":"a648e7b568ac7a1c","reportUrl":"../2179//#testresult/a648e7b568ac7a1c","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724463684029,"stop":1724463684212,"duration":183}},{"uid":"e36e85982bc4a2d6","reportUrl":"../2173//#testresult/e36e85982bc4a2d6","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724378717613,"stop":1724378717814,"duration":201}},{"uid":"4302c2a9035e0013","reportUrl":"../2163//#testresult/4302c2a9035e0013","status":"unknown","time":{}},{"uid":"2b85493a147a0b15","reportUrl":"../2152//#testresult/2b85493a147a0b15","status":"skipped","statusDetails":"Skipped: reuse of storage can only be used on deployments with persistent storage not on rootfs deployments","time":{"start":1724204486858,"stop":1724204487421,"duration":563}}]},"tags":["runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])","asyncio","abort_on_fail","group(1)"]},"source":"17f16be5a79df544.json","parameterValues":[]}