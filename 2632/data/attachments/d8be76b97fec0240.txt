[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.6.1    unsupported  01:41:26Z

App            Version  Status  Scale  Charm    Channel  Rev  Exposed  Message
config-server  6.0.6    active      3  mongodb  6/edge   210  no       
shard-one      6.0.6    active      3  mongodb  6/edge   210  no       
shard-two      6.0.6    active      1  mongodb  6/edge   210  no       

Unit              Workload  Agent      Machine  Public address  Ports            Message
config-server/0   active    executing  0        10.91.194.88    27017-27018/tcp  
config-server/1*  active    executing  1        10.91.194.120   27017-27018/tcp  
config-server/2   active    idle       2        10.91.194.240   27017-27018/tcp  
shard-one/0       blocked   executing  3        10.91.194.121   27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).
shard-one/1       blocked   idle       4        10.91.194.25    27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).
shard-one/2*      blocked   executing  5        10.91.194.215   27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).
shard-two/0*      blocked   idle       6        10.91.194.47    27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.91.194.88   juju-348e03-0  ubuntu@22.04      Running
1        started  10.91.194.120  juju-348e03-1  ubuntu@22.04      Running
2        started  10.91.194.240  juju-348e03-2  ubuntu@22.04      Running
3        started  10.91.194.121  juju-348e03-3  ubuntu@22.04      Running
4        started  10.91.194.25   juju-348e03-4  ubuntu@22.04      Running
5        started  10.91.194.215  juju-348e03-5  ubuntu@22.04      Running
6        started  10.91.194.47   juju-348e03-6  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-1: 01:31:23 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 01:31:23 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-1: 01:31:24 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 01:31:26 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 01:31:26 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-0: 01:31:26 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 01:31:27 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:31:27 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-2: 01:31:27 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 01:31:27 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 01:31:27 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-2: 01:31:28 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-3: 01:31:28 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 01:31:28 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-0: 01:31:28 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-0: 01:31:28 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:31:28 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-0: 01:31:29 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 01:31:30 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 01:31:30 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-1: 01:31:30 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-1: 01:31:46 ERROR unit.config-server/1.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-1: 01:31:46 ERROR unit.config-server/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 01:31:51 ERROR unit.shard-two/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 01:31:51 ERROR unit.shard-two/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 01:31:54 ERROR unit.shard-one/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 01:31:54 ERROR unit.shard-one/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-config-server-2: 01:31:59 ERROR unit.config-server/2.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-2: 01:31:59 ERROR unit.config-server/2.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-2: 01:31:59 ERROR unit.shard-one/2.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-2: 01:31:59 ERROR unit.shard-one/2.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-config-server-0: 01:31:59 ERROR unit.config-server/0.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-0: 01:31:59 ERROR unit.config-server/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 01:32:00 ERROR unit.shard-one/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 01:32:00 ERROR unit.shard-one/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 01:32:01 ERROR unit.shard-one/0.juju-log This operation (update_relation_data()) can only be performed by the leader unit
unit-shard-one-0: 01:32:03 ERROR unit.shard-one/0.juju-log Deferring because of Exception Waiting for leader unit to generate keyfile contents
unit-shard-one-2: 01:33:48 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b57b0c6299b58b539324, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: RSSecondary, rtt: 0.0007234539953060448>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.000706541002728045>, <ServerDescription ('10.91.194.25', 27017) server_type: RSSecondary, rtt: 0.0011748899996746331>]>
unit-shard-one-2: 01:33:52 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b57f0c6299b58b539325, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57ac84972f11160ead0'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 12805}")>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0008077020029304549>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57a123d8623f9bdff39'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13431}")>]>
unit-shard-one-2: 01:33:57 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b5840c6299b58b539326, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57ac84972f11160ead0'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 8660}")>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0008057899976847693>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57a123d8623f9bdff39'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 9285}")>]>
unit-shard-one-2: 01:34:01 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b5880c6299b58b539327, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57ac84972f11160ead0'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 4526}")>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0005038259987486526>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57a123d8623f9bdff39'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 5153}")>]>
unit-shard-one-2: 01:34:05 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b58c0c6299b58b539328, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57ac84972f11160ead0'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 395}")>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0007597209914820269>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67c3b57a123d8623f9bdff39'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 1022}")>]>
unit-shard-one-2: 01:34:35 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b5aa96e4a36f982b9117, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: RSSecondary, rtt: 0.0011908399901585653>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0009962309995898977>, <ServerDescription ('10.91.194.25', 27017) server_type: RSSecondary, rtt: 0.0008059289975790307>]>
unit-shard-one-2: 01:41:03 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b72e943212c942663ca5, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b72a0f6033a3242c12be\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 14148, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.000790300007793121>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b729aa2260aa58a5a1a5\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 13325, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>]>
unit-shard-one-2: 01:41:08 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b732943212c942663ca6, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b72a0f6033a3242c12be\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 9992, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0009923629986587912>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b729aa2260aa58a5a1a5\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 9167, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>]>
unit-shard-one-2: 01:41:12 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b737943212c942663ca7, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b72a0f6033a3242c12be\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 5847, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0007255660020746291>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b729aa2260aa58a5a1a5\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 5028, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>]>
unit-shard-one-2: 01:41:16 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b73b943212c942663ca8, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b72a0f6033a3242c12be\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 1704, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0014044340059626848>, <ServerDescription ('10.91.194.25', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67c3b729aa2260aa58a5a1a5\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 1387, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740879659, 7), \'signature\': {\'hash\': b"\\x90~\\x92\\xa4\\xfeY\\x99\\x07-)\\x80)D\\x82h\\xc9\\xf5\'\\xef\\xeb", \'keyId\': 7477018886689259546}}, \'operationTime\': Timestamp(1740879642, 5)}')>]>
unit-shard-one-2: 01:41:20 ERROR unit.shard-one/2.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67c3b73f943212c942663ca9, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.91.194.121', 27017) server_type: RSSecondary, rtt: 0.0008090750052360818>, <ServerDescription ('10.91.194.215', 27017) server_type: RSSecondary, rtt: 0.0009091940009966493>, <ServerDescription ('10.91.194.25', 27017) server_type: RSSecondary, rtt: 0.0007382600015262142>]>

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...