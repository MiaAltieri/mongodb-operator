{"uid":"323c0985762b5a1f","name":"test_shard_removal","fullName":"tests.integration.sharding_tests.test_sharding#test_shard_removal","historyId":"69197bb810dc956881ca30d4bd9b5bde","time":{"start":1740361707678,"stop":1740362957299,"duration":1249621},"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","descriptionHtml":"<p>Test shard removal.</p>\n<pre><code>This test also verifies that:\n- Databases that are using this shard as a primary are moved.\n- The balancer is turned back on if turned off.\n- Config server supp    orts removing multiple shards.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1740360633721,"stop":1740360633874,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1740360633721,"stop":1740360633721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1740360633721,"stop":1740360633721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1740361707677,"stop":1740361707677,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","status":"passed","steps":[],"attachments":[{"uid":"70721ef3feabfd22","name":"log","source":"70721ef3feabfd22.txt","type":"text/plain","size":8722}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1740362957300,"stop":1740362957300,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1740365041697,"stop":1740365042084,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1740365042085,"stop":1740365042085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1740365042085,"stop":1740365042085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1740365042085,"stop":1740365042085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.sharding_tests"},{"name":"suite","value":"test_sharding"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11028-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.sharding_tests.test_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"68e63a0e51ce9003","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":11,"passed":166,"unknown":6,"total":185},"items":[{"uid":"35b7d2c24f83b4f9","reportUrl":"../2623//#testresult/35b7d2c24f83b4f9","status":"passed","time":{"start":1740275162734,"stop":1740276344536,"duration":1181802}},{"uid":"bb3849d68a3c10a3","reportUrl":"../2622//#testresult/bb3849d68a3c10a3","status":"passed","time":{"start":1740188900577,"stop":1740190030345,"duration":1129768}},{"uid":"60bde5b1fc07d304","reportUrl":"../2621//#testresult/60bde5b1fc07d304","status":"passed","time":{"start":1740102327880,"stop":1740103523160,"duration":1195280}},{"uid":"7a6540dfc23e6490","reportUrl":"../2620//#testresult/7a6540dfc23e6490","status":"passed","time":{"start":1740016432199,"stop":1740017597223,"duration":1165024}},{"uid":"d786fba0d82b80bc","reportUrl":"../2619//#testresult/d786fba0d82b80bc","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  config-server-one/1 [idle] maintenance: Draining shard shard-three","time":{"start":1739929927992,"stop":1739931730370,"duration":1802378}},{"uid":"57ea416f76e72a7d","reportUrl":"../2618//#testresult/57ea416f76e72a7d","status":"passed","time":{"start":1739843294201,"stop":1739844427813,"duration":1133612}},{"uid":"24c54228682e6208","reportUrl":"../2617//#testresult/24c54228682e6208","status":"passed","time":{"start":1739756825911,"stop":1739758157503,"duration":1331592}},{"uid":"cc44ec5db3144fd5","reportUrl":"../2616//#testresult/cc44ec5db3144fd5","status":"passed","time":{"start":1739670342750,"stop":1739671559651,"duration":1216901}},{"uid":"2375749253f2b23","reportUrl":"../2615//#testresult/2375749253f2b23","status":"passed","time":{"start":1739584505473,"stop":1739585689932,"duration":1184459}},{"uid":"ea8555eae4aeba45","reportUrl":"../2614//#testresult/ea8555eae4aeba45","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  config-server-one/0 [idle] maintenance: Draining shard shard-three\n  config-server-one/1 [idle] maintenance: Draining shard shard-three","time":{"start":1739497799798,"stop":1739499602461,"duration":1802663}},{"uid":"1c09504248c76594","reportUrl":"../2613//#testresult/1c09504248c76594","status":"passed","time":{"start":1739412167969,"stop":1739413259133,"duration":1091164}},{"uid":"3876f85bcb6d22b3","reportUrl":"../2603//#testresult/3876f85bcb6d22b3","status":"passed","time":{"start":1739238475798,"stop":1739238562931,"duration":87133}},{"uid":"658819f87314954b","reportUrl":"../2589//#testresult/658819f87314954b","status":"passed","time":{"start":1739152374120,"stop":1739152768135,"duration":394015}},{"uid":"1ae9f11854d2c9f6","reportUrl":"../2588//#testresult/1ae9f11854d2c9f6","status":"passed","time":{"start":1739065656844,"stop":1739065790223,"duration":133379}},{"uid":"f3517a38241af3ee","reportUrl":"../2587//#testresult/f3517a38241af3ee","status":"passed","time":{"start":1738979307401,"stop":1738979510076,"duration":202675}},{"uid":"5954e0855f1a05f7","reportUrl":"../2579//#testresult/5954e0855f1a05f7","status":"passed","time":{"start":1738892782224,"stop":1738892864771,"duration":82547}},{"uid":"b34d2e90293d541","reportUrl":"../2576//#testresult/b34d2e90293d541","status":"passed","time":{"start":1738806371841,"stop":1738806574571,"duration":202730}},{"uid":"a73dc823ea63cf3b","reportUrl":"../2570//#testresult/a73dc823ea63cf3b","status":"passed","time":{"start":1738720510201,"stop":1738720592922,"duration":82721}},{"uid":"c00fb933f84f35bd","reportUrl":"../2562//#testresult/c00fb933f84f35bd","status":"passed","time":{"start":1738633684156,"stop":1738633769675,"duration":85519}},{"uid":"bbce33b4bee75a45","reportUrl":"../2559//#testresult/bbce33b4bee75a45","status":"passed","time":{"start":1738547257634,"stop":1738547843251,"duration":585617}}]},"tags":["runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])","asyncio","group(1)"]},"source":"323c0985762b5a1f.json","parameterValues":[]}