[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [idle] active: 
  shard-two/1 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [executing] waiting: Waiting for secrets from config-server
  shard-two/1 [executing] waiting: Waiting for secrets from config-server
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [idle] waiting: Waiting for secrets from config-server
  shard-two/1 [idle] waiting: Waiting for secrets from config-server
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [idle] waiting: Waiting for secrets from config-server
  shard-two/1 [idle] waiting: Waiting for secrets from config-server
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [idle] waiting: Waiting for secrets from config-server
  shard-two/1 [idle] waiting: Waiting for secrets from config-server
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [idle] waiting: Waiting for secrets from config-server
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  shard-two/0 [executing] active: 
  shard-two/1 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  config-server-one/0 [idle] active: Primary
  config-server-one/1 [idle] maintenance: Draining shard shard-two
  shard-one/0 [idle] active: 
  shard-one/1 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:model.py:2971 Waiting for model:
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  04:10:07Z

App                Version  Status  Scale  Charm    Channel  Rev  Exposed  Message
config-server-one           active      2  mongodb             0  no       
shard-one                   active      2  mongodb             1  no       
shard-three                 active      2  mongodb             3  no       

Unit                  Workload  Agent  Machine  Public address  Ports            Message
config-server-one/0*  active    idle   0        10.64.218.24    27017-27018/tcp  
config-server-one/1   active    idle   1        10.64.218.247   27017-27018/tcp  
shard-one/0*          active    idle   2        10.64.218.158   27017/tcp        
shard-one/1           active    idle   3        10.64.218.53    27017/tcp        Primary
shard-three/0         active    idle   6        10.64.218.218   27017/tcp        Primary
shard-three/1*        active    idle   7        10.64.218.96    27017/tcp        

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.64.218.24   juju-19c557-0  ubuntu@22.04      Running
1        started  10.64.218.247  juju-19c557-1  ubuntu@22.04      Running
2        started  10.64.218.158  juju-19c557-2  ubuntu@22.04      Running
3        started  10.64.218.53   juju-19c557-3  ubuntu@22.04      Running
6        started  10.64.218.218  juju-19c557-6  ubuntu@22.04      Running
7        started  10.64.218.96   juju-19c557-7  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-0: 03:26:42 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 03:26:42 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-one-0: 03:26:43 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 03:26:45 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 03:26:45 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-one-1: 03:26:45 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 03:28:15 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 03:28:15 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 03:28:16 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 03:28:16 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-0: 03:28:16 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-shard-one-1: 03:28:16 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 03:28:44 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 03:28:44 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-0: 03:28:44 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 03:28:49 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 03:28:49 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-1: 03:28:49 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-one-0: 03:29:21 ERROR unit.config-server-one/0.juju-log _on_secret_remove: Secret secret:csm37tbe0ur1jaq25cbg seems to have no observers, could be removed
machine-7: 03:30:14 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-7: 03:30:14 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-three-1: 03:30:14 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 03:30:14 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 03:30:14 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-three-0: 03:30:14 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-shard-one-0: 03:30:23 ERROR unit.shard-one/0.juju-log _on_secret_remove: Secret secret:csm38d3e0ur1jaq25cc0 seems to have no observers, could be removed
unit-shard-two-0: 03:30:29 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-three-1: 03:31:25 ERROR unit.shard-three/1.juju-log _on_secret_remove: Secret secret:csm38tje0ur1jaq25cd0 seems to have no observers, could be removed
unit-config-server-one-0: 03:34:23 ERROR unit.config-server-one/0.juju-log config-server:10: Failed to add shard shard-three to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950463, 1), 'signature': {'hash': b'\\x05\\x98\\x009\\x80U%\\xdf\\x95\\xe2:K\\xfdb\\xd4(:%\\x15$', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950463, 1)}")
unit-config-server-one-0: 03:34:24 ERROR unit.config-server-one/0.juju-log config-server:10: shard-three shard does not have the same auth as the config server.
unit-config-server-one-0: 03:34:25 ERROR unit.config-server-one/0.juju-log config-server:8: Failed to add shard shard-three to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950465, 1), 'signature': {'hash': b'\\xfc\\x96[\\x1c\\x13\\xf3\\x00ohx%\\x18Y\\x98\\xaf} \\xb2k\\xae', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950465, 1)}")
unit-config-server-one-0: 03:34:26 ERROR unit.config-server-one/0.juju-log config-server:8: shard-three shard does not have the same auth as the config server.
unit-config-server-one-0: 03:34:26 ERROR unit.config-server-one/0.juju-log config-server:8: Failed to add shard shard-three to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950466, 1), 'signature': {'hash': b'\\x00\\x99\\xe9{\\xbc\\x83i\\xf5\\x10\\xd3WX{hr\\x0c\\xabW39', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950466, 1)}")
unit-config-server-one-0: 03:34:26 ERROR unit.config-server-one/0.juju-log config-server:8: shard-three shard does not have the same auth as the config server.
unit-config-server-one-0: 03:34:28 ERROR unit.config-server-one/0.juju-log config-server:8: Failed to add shard shard-one to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950467, 2), 'signature': {'hash': b'E\\xd6\\x86\\x0ey\\xfb\\xbe\\x17\\x91k\\x01=j\\xeb*\\xecC\\x99\\xb5\\xf8', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950467, 2)}")
unit-config-server-one-0: 03:34:43 ERROR unit.config-server-one/0.juju-log config-server:8: Failed to add shard shard-three to the config server, error=OperationFailure('Could not find host matching read preference { mode: "primary" } for set shard-three, full error: {\'ok\': 0.0, \'errmsg\': \'Could not find host matching read preference { mode: "primary" } for set shard-three\', \'code\': 133, \'codeName\': \'FailedToSatisfyReadPreference\', \'$clusterTime\': {\'clusterTime\': Timestamp(1730950482, 2), \'signature\': {\'hash\': b\'\\x02\\xd9\\xbbO\\xd9n\\xa3CF\\x1b9U\\xb7\\xa4\\x9f|\\xea\\xa34c\', \'keyId\': 7434374255191523353}}, \'operationTime\': Timestamp(1730950482, 2)}')
unit-config-server-one-0: 03:34:43 ERROR unit.config-server-one/0.juju-log config-server:8: Failed to add shard-three to cluster
unit-config-server-one-0: 03:34:43 ERROR unit.config-server-one/0.juju-log config-server:8: Deferring _on_relation_event for shards interface since: error=OperationFailure('Could not find host matching read preference { mode: "primary" } for set shard-three, full error: {\'ok\': 0.0, \'errmsg\': \'Could not find host matching read preference { mode: "primary" } for set shard-three\', \'code\': 133, \'codeName\': \'FailedToSatisfyReadPreference\', \'$clusterTime\': {\'clusterTime\': Timestamp(1730950482, 2), \'signature\': {\'hash\': b\'\\x02\\xd9\\xbbO\\xd9n\\xa3CF\\x1b9U\\xb7\\xa4\\x9f|\\xea\\xa34c\', \'keyId\': 7434374255191523353}}, \'operationTime\': Timestamp(1730950482, 2)}')
unit-config-server-one-0: 03:34:44 ERROR unit.config-server-one/0.juju-log config-server:8: Failed to add shard shard-one to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950483, 1), 'signature': {'hash': b'q~*H\\xef\\x9e\\xfd\\x9fvh\\x1c\\xfd\\x16\\x00\\xfb\\xcd\\xfe\\x00\\xa3%', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950483, 1)}")
unit-config-server-one-0: 03:34:56 ERROR unit.config-server-one/0.juju-log config-server:8: shard-one shard does not have the same auth as the config server.
unit-config-server-one-0: 03:34:58 ERROR unit.config-server-one/0.juju-log config-server:9: Failed to add shard shard-two to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950497, 2), 'signature': {'hash': b'N{\\xdd\\x83z\\xda\\xf7,\\x9am\\xc5\\xde\\xcaF4c\\x12i\\\\6', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950497, 2)}")
unit-shard-three-1: 03:35:06 ERROR unit.shard-three/1.juju-log _on_secret_remove: Secret secret:csm38tje0ur1jaq25cd0 seems to have no observers, could be removed
unit-shard-three-1: 03:35:11 ERROR unit.shard-three/1.juju-log _on_secret_remove: Secret secret:csm38tje0ur1jaq25cd0 seems to have no observers, could be removed
unit-config-server-one-0: 03:35:13 ERROR unit.config-server-one/0.juju-log config-server:9: Failed to add shard shard-one to the config server, error=OperationFailure('Could not find host matching read preference { mode: "primary" } for set shard-one, full error: {\'ok\': 0.0, \'errmsg\': \'Could not find host matching read preference { mode: "primary" } for set shard-one\', \'code\': 133, \'codeName\': \'FailedToSatisfyReadPreference\', \'$clusterTime\': {\'clusterTime\': Timestamp(1730950512, 2), \'signature\': {\'hash\': b"\\xf6\\xef\\xb9E\\x9eG\\xe9\\x17\\xcd\'\\x02\\xd0\\xeb;\\xdd\\xb6\\x98\\xd7/b", \'keyId\': 7434374255191523353}}, \'operationTime\': Timestamp(1730950512, 2)}')
unit-config-server-one-0: 03:35:13 ERROR unit.config-server-one/0.juju-log config-server:9: Failed to add shard-one to cluster
unit-config-server-one-0: 03:35:13 ERROR unit.config-server-one/0.juju-log config-server:9: Deferring _on_relation_event for shards interface since: error=OperationFailure('Could not find host matching read preference { mode: "primary" } for set shard-one, full error: {\'ok\': 0.0, \'errmsg\': \'Could not find host matching read preference { mode: "primary" } for set shard-one\', \'code\': 133, \'codeName\': \'FailedToSatisfyReadPreference\', \'$clusterTime\': {\'clusterTime\': Timestamp(1730950512, 2), \'signature\': {\'hash\': b"\\xf6\\xef\\xb9E\\x9eG\\xe9\\x17\\xcd\'\\x02\\xd0\\xeb;\\xdd\\xb6\\x98\\xd7/b", \'keyId\': 7434374255191523353}}, \'operationTime\': Timestamp(1730950512, 2)}')
unit-config-server-one-0: 03:35:13 ERROR unit.config-server-one/0.juju-log config-server:9: Failed to add shard shard-two to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950513, 2), 'signature': {'hash': b'\\x14+\\x00I\\x90O\\xd0\\x15M\\xef\\x0f&:\\xa3\\x0b\\xf3#Ki&', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950513, 1)}")
unit-shard-three-1: 03:35:16 ERROR unit.shard-three/1.juju-log _on_secret_remove: Secret secret:csm38tje0ur1jaq25cd0 seems to have no observers, could be removed
unit-config-server-one-0: 03:35:27 ERROR unit.config-server-one/0.juju-log config-server:9: shard-two shard does not have the same auth as the config server.
unit-config-server-one-0: 03:35:28 ERROR unit.config-server-one/0.juju-log config-server:9: Failed to add shard shard-two to the config server, error=OperationFailure("Authentication failed., full error: {'ok': 0.0, 'errmsg': 'Authentication failed.', 'code': 18, 'codeName': 'AuthenticationFailed', '$clusterTime': {'clusterTime': Timestamp(1730950527, 2), 'signature': {'hash': b'W\\xb1\\xeb\\x8e\\x00`\\x9e?\\xc6]fL\\xe6\\x15\\xec\\x87\\xd6\\xda\\xc7m', 'keyId': 7434374255191523353}}, 'operationTime': Timestamp(1730950527, 2)}")
unit-config-server-one-0: 03:35:28 ERROR unit.config-server-one/0.juju-log config-server:9: shard-two shard does not have the same auth as the config server.
unit-shard-one-0: 03:35:37 ERROR unit.shard-one/0.juju-log _on_secret_remove: Secret secret:csm38d3e0ur1jaq25cc0 seems to have no observers, could be removed
unit-shard-one-0: 03:35:38 ERROR unit.shard-one/0.juju-log _on_secret_remove: Secret secret:csm38d3e0ur1jaq25cc0 seems to have no observers, could be removed
unit-config-server-one-0: 03:35:44 ERROR unit.config-server-one/0.juju-log config-server:9: Failed to add shard shard-two to the config server, error=OperationFailure('Could not find host matching read preference { mode: "primary" } for set shard-two, full error: {\'ok\': 0.0, \'errmsg\': \'Could not find host matching read preference { mode: "primary" } for set shard-two\', \'code\': 133, \'codeName\': \'FailedToSatisfyReadPreference\', \'$clusterTime\': {\'clusterTime\': Timestamp(1730950543, 2), \'signature\': {\'hash\': b\'7\\x8f\\xf9\\xac\\xe4$|\\x89U\\x92~\\x01\\x08\\x14\\x1f\\xe8S5\\xea\\xa3\', \'keyId\': 7434374255191523353}}, \'operationTime\': Timestamp(1730950543, 2)}')
unit-config-server-one-0: 03:35:44 ERROR unit.config-server-one/0.juju-log config-server:9: Failed to add shard-two to cluster
unit-config-server-one-0: 03:35:44 ERROR unit.config-server-one/0.juju-log config-server:9: Deferring _on_relation_event for shards interface since: error=OperationFailure('Could not find host matching read preference { mode: "primary" } for set shard-two, full error: {\'ok\': 0.0, \'errmsg\': \'Could not find host matching read preference { mode: "primary" } for set shard-two\', \'code\': 133, \'codeName\': \'FailedToSatisfyReadPreference\', \'$clusterTime\': {\'clusterTime\': Timestamp(1730950543, 2), \'signature\': {\'hash\': b\'7\\x8f\\xf9\\xac\\xe4$|\\x89U\\x92~\\x01\\x08\\x14\\x1f\\xe8S5\\xea\\xa3\', \'keyId\': 7434374255191523353}}, \'operationTime\': Timestamp(1730950543, 2)}')
unit-shard-three-1: 03:36:02 ERROR unit.shard-three/1.juju-log _on_secret_remove: Secret secret:csm38tje0ur1jaq25cd0 seems to have no observers, could be removed
unit-shard-two-0: 03:36:07 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-three-1: 03:36:08 ERROR unit.shard-three/1.juju-log _on_secret_remove: Secret secret:csm38tje0ur1jaq25cd0 seems to have no observers, could be removed
unit-shard-two-0: 03:36:09 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 03:40:20 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-one-0: 03:40:21 ERROR unit.shard-one/0.juju-log _on_secret_remove: Secret secret:csm38d3e0ur1jaq25cc0 seems to have no observers, could be removed
unit-config-server-one-0: 03:40:21 ERROR unit.config-server-one/0.juju-log _on_secret_remove: Secret secret:csm37tbe0ur1jaq25cbg seems to have no observers, could be removed
unit-config-server-one-0: 03:41:28 ERROR unit.config-server-one/0.juju-log database-peers:1: Deferring _on_relation_event for shards interface since: error=AutoReconnect('10.64.218.24:27018: connection closed (configured timeouts: connectTimeoutMS: 2000.0ms)')
unit-shard-two-0: 03:50:22 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 03:50:24 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 03:50:33 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 03:50:40 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 03:59:46 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 03:59:47 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 03:59:53 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 04:00:00 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed
unit-shard-two-0: 04:00:05 ERROR unit.shard-two/0.juju-log _on_secret_remove: Secret secret:csm38fre0ur1jaq25ccg seems to have no observers, could be removed

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...