[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] active: 
  shard-two/1 [idle] active: Primary
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [executing] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [executing] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] active: 
  shard-two/1 [idle] active: Primary
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Draining shard from cluster.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Draining shard from cluster.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/1 [idle] active: Primary
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
  shard-one/0 [idle] active: 
  shard-one/1 [idle] active: Primary
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.6.1    unsupported  03:44:05Z

App                Version  Status  Scale  Charm    Channel  Rev  Exposed  Message
config-server-one  6.0.6    active      2  mongodb             0  no       
shard-one          6.0.6    active      2  mongodb             1  no       
shard-three        6.0.6    active      2  mongodb             3  no       

Unit                  Workload  Agent  Machine  Public address  Ports            Message
config-server-one/0   active    idle   0        10.171.89.97    27017-27018/tcp  
config-server-one/1*  active    idle   1        10.171.89.239   27017-27018/tcp  Primary
shard-one/0*          active    idle   2        10.171.89.162   27017/tcp        
shard-one/1           active    idle   3        10.171.89.213   27017/tcp        Primary
shard-three/0*        active    idle   6        10.171.89.48    27017/tcp        
shard-three/1         active    idle   7        10.171.89.157   27017/tcp        Primary

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.171.89.97   juju-6f4db4-0  ubuntu@22.04      Running
1        started  10.171.89.239  juju-6f4db4-1  ubuntu@22.04      Running
2        started  10.171.89.162  juju-6f4db4-2  ubuntu@22.04      Running
3        started  10.171.89.213  juju-6f4db4-3  ubuntu@22.04      Running
6        started  10.171.89.48   juju-6f4db4-6  ubuntu@22.04      Running
7        started  10.171.89.157  juju-6f4db4-7  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-1: 02:40:12 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 02:40:12 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 02:40:12 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 02:40:12 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-one-1: 02:40:12 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-one-0: 02:40:13 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 02:40:18 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 02:40:18 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-0: 02:40:18 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 02:40:34 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 02:40:34 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-0: 02:40:34 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-3: 02:40:34 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 02:40:34 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-1: 02:40:35 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 02:40:37 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 02:40:37 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-1: 02:40:37 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 02:40:42 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 02:40:42 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-three-0: 02:40:42 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-one-0: 02:40:48 ERROR unit.config-server-one/0.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-one-0: 02:40:48 ERROR unit.config-server-one/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-config-server-one-1: 02:40:49 ERROR unit.config-server-one/1.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-one-1: 02:40:49 ERROR unit.config-server-one/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 02:40:52 ERROR unit.shard-one/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 02:40:52 ERROR unit.shard-one/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
machine-7: 02:40:54 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-7: 02:40:54 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-three-1: 02:40:54 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-one-0: 02:40:55 ERROR unit.config-server-one/0.juju-log This operation (update_relation_data()) can only be performed by the leader unit
unit-shard-two-0: 02:41:12 ERROR unit.shard-two/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 02:41:13 ERROR unit.shard-two/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-two-1: 02:41:13 ERROR unit.shard-two/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-two-1: 02:41:13 ERROR unit.shard-two/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 02:41:16 ERROR unit.shard-one/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 02:41:16 ERROR unit.shard-one/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-three-0: 02:41:17 ERROR unit.shard-three/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-three-0: 02:41:17 ERROR unit.shard-three/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-three-1: 02:41:26 ERROR unit.shard-three/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-three-1: 02:41:26 ERROR unit.shard-three/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-three-0: 02:45:12 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8036fe9b2be8b2a0341b, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: RSSecondary, rtt: 0.001336345000026995>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.000637303999951655>]>
unit-shard-one-0: 02:45:12 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8037d7a737f30bf28061, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0010064780000220708>, <ServerDescription ('10.171.89.213', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be803244b178e08505798a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13886}")>]>
unit-shard-two-0: 02:45:14 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8039abc46f5778e2f930, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0006202950000897545>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0007220710000410691>]>
unit-shard-three-0: 02:45:16 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be803bfe9b2be8b2a0341c, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: RSSecondary, rtt: 0.0006310840000196549>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.0006469820000347681>]>
unit-shard-one-0: 02:45:16 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be803bd7a737f30bf28062, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0005216470000277695>, <ServerDescription ('10.171.89.213', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be803244b178e08505798a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 9756}")>]>
unit-shard-two-0: 02:45:18 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be803dabc46f5778e2f931, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0008513729999322095>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0009224359999961962>]>
unit-shard-three-0: 02:45:20 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be803ffe9b2be8b2a0341d, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: RSSecondary, rtt: 0.0007206699999642296>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.0007062150000365364>]>
unit-shard-one-0: 02:45:20 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be803fd7a737f30bf28063, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0007013660000438904>, <ServerDescription ('10.171.89.213', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be803244b178e08505798a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 5634}")>]>
unit-shard-two-0: 02:45:22 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8041abc46f5778e2f932, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.000927215999922737>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0005555760000106602>]>
unit-shard-one-0: 02:45:24 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8043d7a737f30bf28064, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0005774439999868264>, <ServerDescription ('10.171.89.213', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be803244b178e08505798a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 1503}")>]>
unit-shard-one-0: 02:45:28 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8047d7a737f30bf28065, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0008511470000485133>, <ServerDescription ('10.171.89.213', 27017) server_type: RSSecondary, rtt: 0.0007156829999530601>]>
unit-shard-two-0: 02:45:43 ERROR unit.shard-two/0.juju-log database-peers:4: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8055a78c17fe6cff2ded, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be80372dc62cb0816f44b7'), 'counter': 10}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 5378, 'lastCommittedOpTime': Timestamp(1740537931, 4), '$clusterTime': {'clusterTime': Timestamp(1740537932, 1), 'signature': {'hash': b'\\xde41o\\x0b|\\\\\\xc0\\xb5\\xfc\\x1a\\xef\\x15\\xcf\\xdb\\x06\\x8b?\\x85\\x0b', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740537931, 4)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.000859332999993967>]>
unit-shard-two-0: 02:45:46 ERROR unit.shard-two/0.juju-log sharding:9: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be805979debfe2a56d11fb, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be80372dc62cb0816f44b7'), 'counter': 10}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 2168, 'lastCommittedOpTime': Timestamp(1740537931, 4), '$clusterTime': {'clusterTime': Timestamp(1740537932, 1), 'signature': {'hash': b'\\xde41o\\x0b|\\\\\\xc0\\xb5\\xfc\\x1a\\xef\\x15\\xcf\\xdb\\x06\\x8b?\\x85\\x0b', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740537931, 4)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0007121999999526452>]>
unit-shard-three-0: 02:45:51 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be805e0014d63e6c39447f, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be80355499a7a0976b089b'), 'counter': 6}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 3986, 'lastCommittedOpTime': Timestamp(1740537926, 5), '$clusterTime': {'clusterTime': Timestamp(1740537946, 1), 'signature': {'hash': b'\\xa6\\x7f\\xb5\\xe3\\xe4\\xdcSO\\x1bu^e[3}\\x8e%\\x8c\\xc9\\x1a', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740537926, 5)}")>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.0007599719999689114>]>
unit-shard-three-0: 02:45:55 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be80620014d63e6c394480, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be80355499a7a0976b089b'), 'counter': 6}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 403, 'lastCommittedOpTime': Timestamp(1740537926, 5), '$clusterTime': {'clusterTime': Timestamp(1740537946, 1), 'signature': {'hash': b'\\xa6\\x7f\\xb5\\xe3\\xe4\\xdcSO\\x1bu^e[3}\\x8e%\\x8c\\xc9\\x1a', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740537926, 5)}")>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.0011435159999564348>]>
unit-shard-three-0: 02:45:59 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be80660014d63e6c394481, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: RSSecondary, rtt: 0.0012836189999916314>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.0007463010000492432>]>
unit-shard-one-0: 02:45:59 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be80667485265bad30c0c8, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0007270770000786797>, <ServerDescription ('10.171.89.213', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be804683cbc74ec195c180'), 'counter': 6}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 3574, 'lastCommittedOpTime': Timestamp(1740537935, 8), '$clusterTime': {'clusterTime': Timestamp(1740537955, 1), 'signature': {'hash': b'\\x1f\\x8a\\x1b\\x17Gff\\xdezJT\\xb1E\\xf3\\xd3\\xde\\x9bJ\\x9f\\xbe', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740537935, 8)}")>]>
unit-shard-three-0: 02:46:03 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be806a0014d63e6c394482, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: RSSecondary, rtt: 0.002824173999897539>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.0010315839999748277>]>
unit-shard-one-0: 02:46:04 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be806a7485265bad30c0c9, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0012711069999795654>, <ServerDescription ('10.171.89.213', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.171.89.213:27017: [Errno 104] Connection reset by peer (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>]>
unit-shard-two-0: 02:46:07 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be806e79debfe2a56d11fd, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0009204529999351507>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0006252309999581485>]>
unit-shard-three-0: 02:46:07 ERROR unit.shard-three/0.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be806e0014d63e6c394483, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.157', 27017) server_type: RSSecondary, rtt: 0.0008169129999942015>, <ServerDescription ('10.171.89.48', 27017) server_type: RSSecondary, rtt: 0.0007150559999899997>]>
unit-shard-one-0: 02:46:08 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be806f7485265bad30c0ca, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.0005808550000665491>, <ServerDescription ('10.171.89.213', 27017) server_type: RSSecondary, rtt: 0.0008265190000429357>]>
unit-shard-two-0: 02:46:11 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be807279debfe2a56d11fe, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0005100710000078834>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0007396610000114379>]>
unit-shard-one-0: 02:46:12 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be80737485265bad30c0cb, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.162', 27017) server_type: RSSecondary, rtt: 0.000827271000048313>, <ServerDescription ('10.171.89.213', 27017) server_type: RSSecondary, rtt: 0.0006308619999799703>]>
unit-config-server-one-1: 02:56:35 ERROR unit.config-server-one/1.juju-log config-server:10: cannot remove shard shard-three from cluster, another shard is draining
unit-config-server-one-1: 02:56:35 ERROR unit.config-server-one/1.juju-log config-server:10: Deferring _on_relation_event for shards interface since: error=cannot remove shard shard-three from cluster, another shard is draining
unit-shard-two-0: 03:14:12 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be87035b74b92b9b30a671, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0007373180001195578>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0006561260001944902>]>
unit-shard-two-0: 03:14:16 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be87075b74b92b9b30a672, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be86fff9b4e9d65ef97a03'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13418, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740539648, 6), 'signature': {'hash': b'\\xd9\\x92\\x8e,\\xbe\\x83|\\xcb\\xdd\\xd3\\xdbtR\\xfb\\xf1BVq\\x17\\x15', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740539623, 4)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0015805810003257648>]>
unit-shard-two-0: 03:14:20 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be870b5b74b92b9b30a673, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be86fff9b4e9d65ef97a03'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 9300, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740539648, 6), 'signature': {'hash': b'\\xd9\\x92\\x8e,\\xbe\\x83|\\xcb\\xdd\\xd3\\xdbtR\\xfb\\xf1BVq\\x17\\x15', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740539623, 4)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0008918469998207001>]>
unit-shard-two-0: 03:14:25 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be870f5b74b92b9b30a674, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be86fff9b4e9d65ef97a03'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 5184, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740539648, 6), 'signature': {'hash': b'\\xd9\\x92\\x8e,\\xbe\\x83|\\xcb\\xdd\\xd3\\xdbtR\\xfb\\xf1BVq\\x17\\x15', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740539623, 4)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0007093770000210498>]>
unit-shard-two-0: 03:14:29 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be87145b74b92b9b30a675, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be86fff9b4e9d65ef97a03'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 1060, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740539648, 6), 'signature': {'hash': b'\\xd9\\x92\\x8e,\\xbe\\x83|\\xcb\\xdd\\xd3\\xdbtR\\xfb\\xf1BVq\\x17\\x15', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740539623, 4)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0007524510001530871>]>
unit-shard-two-0: 03:14:33 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be87185b74b92b9b30a676, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.000656124000215641>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.00047597200000382145>]>
unit-shard-two-0: 03:14:37 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be871c5b74b92b9b30a677, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0015106300002116768>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.000825753999833978>]>
unit-shard-two-0: 03:15:04 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8737c9cd099823c40484, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be87169976a22420e52cc6'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 11086, 'lastCommittedOpTime': Timestamp(1740539680, 2), '$clusterTime': {'clusterTime': Timestamp(1740539700, 10), 'signature': {'hash': b'\\xa7\\x92u\\xbd\\xee\\x82#_!\\xfb\\x97\\xd1f\\x1e\\xde\\xa3\\xf1\\x01\\x19\\xa4', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740539680, 2)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0006229499999790278>]>
unit-shard-two-0: 03:15:09 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be873bc9cd099823c40485, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be87169976a22420e52cc6'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 6961, 'lastCommittedOpTime': Timestamp(1740539680, 2), '$clusterTime': {'clusterTime': Timestamp(1740539700, 10), 'signature': {'hash': b'\\xa7\\x92u\\xbd\\xee\\x82#_!\\xfb\\x97\\xd1f\\x1e\\xde\\xa3\\xf1\\x01\\x19\\xa4', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740539680, 2)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0008445830003438459>]>
unit-shard-two-0: 03:15:13 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8740c9cd099823c40486, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be87169976a22420e52cc6'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 2851, 'lastCommittedOpTime': Timestamp(1740539680, 2), '$clusterTime': {'clusterTime': Timestamp(1740539700, 10), 'signature': {'hash': b'\\xa7\\x92u\\xbd\\xee\\x82#_!\\xfb\\x97\\xd1f\\x1e\\xde\\xa3\\xf1\\x01\\x19\\xa4', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740539680, 2)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0007046679997984029>]>
unit-shard-two-0: 03:15:17 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8744c9cd099823c40487, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.171.89.253:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0012278439999136026>]>
unit-shard-two-0: 03:15:21 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8748c9cd099823c40488, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0025322719998257526>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.001880467000319186>]>
unit-shard-two-0: 03:30:08 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8abf942b1ecf70828316, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0011476079998828936>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0008962739998423785>]>
unit-shard-two-0: 03:30:12 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ac3942b1ecf70828317, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8abb723f39b57f6c6e02'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13308, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740540604, 7), 'signature': {'hash': b')\\xfc.\\x0e\\xd3.%N\\x16=h\\\\\\xc2\\xdcafv\\x03\\xfe\\x80', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540578, 1)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0017409909996786155>]>
unit-shard-two-0: 03:30:16 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ac7942b1ecf70828318, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8abb723f39b57f6c6e02'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 9164, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740540604, 7), 'signature': {'hash': b')\\xfc.\\x0e\\xd3.%N\\x16=h\\\\\\xc2\\xdcafv\\x03\\xfe\\x80', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540578, 1)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0011054670003431966>]>
unit-shard-two-0: 03:30:21 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8acc942b1ecf70828319, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8abb723f39b57f6c6e02'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 4963, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740540604, 7), 'signature': {'hash': b')\\xfc.\\x0e\\xd3.%N\\x16=h\\\\\\xc2\\xdcafv\\x03\\xfe\\x80', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540578, 1)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.001478385000154958>]>
unit-shard-two-0: 03:30:25 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ad0942b1ecf7082831a, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8abb723f39b57f6c6e02'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 788, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740540604, 7), 'signature': {'hash': b')\\xfc.\\x0e\\xd3.%N\\x16=h\\\\\\xc2\\xdcafv\\x03\\xfe\\x80', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540578, 1)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0008224389998758852>]>
unit-shard-two-0: 03:30:29 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ad4942b1ecf7082831b, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.001282857000205695>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0008768169996073993>]>
unit-shard-two-0: 03:30:33 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ad8942b1ecf7082831c, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0010268650003126822>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0010597319997032173>]>
unit-shard-two-0: 03:30:37 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8adc942b1ecf7082831d, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8ad2e2e2c8139f2769e6'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 11953, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740540634, 1), 'signature': {'hash': b'\\xbe\\xa0\\x99\\xf4\\xb7\\x8c\\xf2\\xcaxn\\x0f\\xd2=\\xd72\\x0e\\xe5\\x81W/', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540578, 1)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.001430944000276213>]>
unit-shard-two-0: 03:30:41 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ae0942b1ecf7082831e, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8ad2e2e2c8139f2769e6'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 7774, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740540634, 1), 'signature': {'hash': b'\\xbe\\xa0\\x99\\xf4\\xb7\\x8c\\xf2\\xcaxn\\x0f\\xd2=\\xd72\\x0e\\xe5\\x81W/', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540578, 1)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0013322940003490658>]>
unit-shard-two-0: 03:30:46 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ae5942b1ecf7082831f, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8ad2e2e2c8139f2769e6'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 3573, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1740540634, 1), 'signature': {'hash': b'\\xbe\\xa0\\x99\\xf4\\xb7\\x8c\\xf2\\xcaxn\\x0f\\xd2=\\xd72\\x0e\\xe5\\x81W/', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540578, 1)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.001939533000040683>]>
unit-shard-two-0: 03:30:50 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8ae9942b1ecf70828320, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.171.89.253:27017: [Errno 104] Connection reset by peer (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.001090133000161586>]>
unit-shard-two-0: 03:30:54 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8aed942b1ecf70828321, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0010276049997628434>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0011474009997982648>]>
unit-shard-two-0: 03:31:22 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8b09ca92a49758e613e9, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8aeaa54191a78a91a5e0'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 11201, 'lastCommittedOpTime': Timestamp(1740540657, 2), '$clusterTime': {'clusterTime': Timestamp(1740540681, 3), 'signature': {'hash': b'`_\\x84!\\xde\\x88k\\xc6\\x7f\\x86q\\x8cLt!\\xae\\x94\\x98\\xb8\\x0b', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540657, 2)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0007939669999359467>]>
unit-shard-two-0: 03:31:26 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8b0dca92a49758e613ea, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8aeaa54191a78a91a5e0'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 7031, 'lastCommittedOpTime': Timestamp(1740540657, 2), '$clusterTime': {'clusterTime': Timestamp(1740540681, 3), 'signature': {'hash': b'`_\\x84!\\xde\\x88k\\xc6\\x7f\\x86q\\x8cLt!\\xae\\x94\\x98\\xb8\\x0b', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540657, 2)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0012479709998842736>]>
unit-shard-two-0: 03:31:30 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8b11ca92a49758e613eb, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67be8aeaa54191a78a91a5e0'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 2834, 'lastCommittedOpTime': Timestamp(1740540657, 2), '$clusterTime': {'clusterTime': Timestamp(1740540681, 3), 'signature': {'hash': b'`_\\x84!\\xde\\x88k\\xc6\\x7f\\x86q\\x8cLt!\\xae\\x94\\x98\\xb8\\x0b', 'keyId': 7475552344336236569}}, 'operationTime': Timestamp(1740540657, 2)}")>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0011864429998240666>]>
unit-shard-two-0: 03:31:35 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8b15ca92a49758e613ec, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.171.89.253:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0014663829997516586>]>
unit-shard-two-0: 03:31:39 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8b1aca92a49758e613ed, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0008804619997135887>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0011894829999619105>]>
unit-shard-two-0: 03:32:06 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67be8b35af3a3d233df2fdd0, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.171.89.253', 27017) server_type: RSSecondary, rtt: 0.0013101479999932052>, <ServerDescription ('10.171.89.87', 27017) server_type: RSSecondary, rtt: 0.0010055609996015846>]>

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...