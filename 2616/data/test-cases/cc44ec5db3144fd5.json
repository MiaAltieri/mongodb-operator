{"uid":"cc44ec5db3144fd5","name":"test_shard_removal","fullName":"tests.integration.sharding_tests.test_sharding#test_shard_removal","historyId":"69197bb810dc956881ca30d4bd9b5bde","time":{"start":1739670342750,"stop":1739671559651,"duration":1216901},"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","descriptionHtml":"<p>Test shard removal.</p>\n<pre><code>This test also verifies that:\n- Databases that are using this shard as a primary are moved.\n- The balancer is turned back on if turned off.\n- Config server supp    orts removing multiple shards.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1739669375922,"stop":1739669375922,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1739669375922,"stop":1739669376048,"duration":126},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1739669375922,"stop":1739669375922,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1739670342750,"stop":1739670342750,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","status":"passed","steps":[],"attachments":[{"uid":"8402def9a6907b24","name":"log","source":"8402def9a6907b24.txt","type":"text/plain","size":8154}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1739671559652,"stop":1739671559652,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1739673755947,"stop":1739673756497,"duration":550},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1739673756497,"stop":1739673756497,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1739673756498,"stop":1739673756498,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1739673756498,"stop":1739673756498,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.sharding_tests"},{"name":"suite","value":"test_sharding"},{"name":"host","value":"github-runner"},{"name":"thread","value":"25399-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.sharding_tests.test_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b03ca5babb43d5f6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":11,"passed":159,"unknown":6,"total":177},"items":[{"uid":"2375749253f2b23","reportUrl":"../2615//#testresult/2375749253f2b23","status":"passed","time":{"start":1739584505473,"stop":1739585689932,"duration":1184459}},{"uid":"ea8555eae4aeba45","reportUrl":"../2614//#testresult/ea8555eae4aeba45","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  config-server-one/0 [idle] maintenance: Draining shard shard-three\n  config-server-one/1 [idle] maintenance: Draining shard shard-three","time":{"start":1739497799798,"stop":1739499602461,"duration":1802663}},{"uid":"1c09504248c76594","reportUrl":"../2613//#testresult/1c09504248c76594","status":"passed","time":{"start":1739412167969,"stop":1739413259133,"duration":1091164}},{"uid":"3876f85bcb6d22b3","reportUrl":"../2603//#testresult/3876f85bcb6d22b3","status":"passed","time":{"start":1739238475798,"stop":1739238562931,"duration":87133}},{"uid":"658819f87314954b","reportUrl":"../2589//#testresult/658819f87314954b","status":"passed","time":{"start":1739152374120,"stop":1739152768135,"duration":394015}},{"uid":"1ae9f11854d2c9f6","reportUrl":"../2588//#testresult/1ae9f11854d2c9f6","status":"passed","time":{"start":1739065656844,"stop":1739065790223,"duration":133379}},{"uid":"f3517a38241af3ee","reportUrl":"../2587//#testresult/f3517a38241af3ee","status":"passed","time":{"start":1738979307401,"stop":1738979510076,"duration":202675}},{"uid":"5954e0855f1a05f7","reportUrl":"../2579//#testresult/5954e0855f1a05f7","status":"passed","time":{"start":1738892782224,"stop":1738892864771,"duration":82547}},{"uid":"b34d2e90293d541","reportUrl":"../2576//#testresult/b34d2e90293d541","status":"passed","time":{"start":1738806371841,"stop":1738806574571,"duration":202730}},{"uid":"a73dc823ea63cf3b","reportUrl":"../2570//#testresult/a73dc823ea63cf3b","status":"passed","time":{"start":1738720510201,"stop":1738720592922,"duration":82721}},{"uid":"c00fb933f84f35bd","reportUrl":"../2562//#testresult/c00fb933f84f35bd","status":"passed","time":{"start":1738633684156,"stop":1738633769675,"duration":85519}},{"uid":"bbce33b4bee75a45","reportUrl":"../2559//#testresult/bbce33b4bee75a45","status":"passed","time":{"start":1738547257634,"stop":1738547843251,"duration":585617}},{"uid":"5305aaa38f34b7b3","reportUrl":"../2558//#testresult/5305aaa38f34b7b3","status":"passed","time":{"start":1738460921207,"stop":1738461005367,"duration":84160}},{"uid":"1f5b403cde3973f7","reportUrl":"../2557//#testresult/1f5b403cde3973f7","status":"passed","time":{"start":1738374680782,"stop":1738374944907,"duration":264125}},{"uid":"b132ca5010efd6b6","reportUrl":"../2548//#testresult/b132ca5010efd6b6","status":"passed","time":{"start":1738288479299,"stop":1738288680795,"duration":201496}},{"uid":"6edd27968b07fea9","reportUrl":"../2543//#testresult/6edd27968b07fea9","status":"passed","time":{"start":1738201598820,"stop":1738201830186,"duration":231366}},{"uid":"32bca1c72973aa78","reportUrl":"../2540//#testresult/32bca1c72973aa78","status":"passed","time":{"start":1738115271314,"stop":1738115535707,"duration":264393}},{"uid":"63bf84fd1ac7701d","reportUrl":"../2537//#testresult/63bf84fd1ac7701d","status":"passed","time":{"start":1738029240677,"stop":1738029401344,"duration":160667}},{"uid":"352600a4020b22f9","reportUrl":"../2532//#testresult/352600a4020b22f9","status":"passed","time":{"start":1737942431163,"stop":1737942883234,"duration":452071}},{"uid":"5cccb6ff742e5ec2","reportUrl":"../2531//#testresult/5cccb6ff742e5ec2","status":"passed","time":{"start":1737856644387,"stop":1737856732577,"duration":88190}}]},"tags":["runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])","asyncio","group(1)"]},"source":"cc44ec5db3144fd5.json","parameterValues":[]}