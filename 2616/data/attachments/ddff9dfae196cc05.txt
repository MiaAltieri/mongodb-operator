[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/0 [idle] active: Primary
  mongodb/1 [idle] active: 
  mongodb/2 [idle] active: 
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/0 [idle] active: 
  mongodb/1 [idle] active: 
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/0 [idle] active: 
  mongodb/1 [idle] active: 
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] waiting: Waiting for primary re-election.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] active: Primary
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  mongodb/2 [idle] active: Primary
[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.6.1    unsupported  01:54:02Z

App                       Version  Status  Scale  Charm                     Channel        Rev  Exposed  Message
mongodb                   6.0.6    active      3  mongodb                                    0  no       
self-signed-certificates           active      1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent  Machine  Public address  Ports      Message
mongodb/0*                   active    idle   0        10.202.159.84   27017/tcp  
mongodb/1                    active    idle   1        10.202.159.102  27017/tcp  
mongodb/2                    active    idle   2        10.202.159.235  27017/tcp  Primary
self-signed-certificates/0*  active    idle   3        10.202.159.42              

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.202.159.84   juju-4743e0-0  ubuntu@22.04      Running
1        started  10.202.159.102  juju-4743e0-1  ubuntu@22.04      Running
2        started  10.202.159.235  juju-4743e0-2  ubuntu@22.04      Running
3        started  10.202.159.42   juju-4743e0-3  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-0: 01:31:55 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:31:55 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-mongodb-0: 01:31:55 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 01:31:58 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:31:58 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-mongodb-2: 01:31:58 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 01:31:59 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 01:31:59 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-mongodb-1: 01:31:59 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-mongodb-2: 01:32:24 ERROR unit.mongodb/2.juju-log Unable to set params: ['vm.max_map_count']
unit-mongodb-2: 01:32:24 ERROR unit.mongodb/2.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-mongodb-0: 01:32:26 ERROR unit.mongodb/0.juju-log Unable to set params: ['vm.max_map_count']
unit-mongodb-0: 01:32:26 ERROR unit.mongodb/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-mongodb-1: 01:32:27 ERROR unit.mongodb/1.juju-log Unable to set params: ['vm.max_map_count']
unit-mongodb-1: 01:32:27 ERROR unit.mongodb/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-mongodb-2: 01:32:31 ERROR unit.mongodb/2.juju-log This operation (update_relation_data()) can only be performed by the leader unit
machine-3: 01:35:21 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 01:35:21 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-self-signed-certificates-0: 01:35:21 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-mongodb-1: 01:35:51 ERROR unit.mongodb/1.juju-log certificates:2: Non-existing secret unit:int-cert-secret was attempted to be removed.
unit-mongodb-2: 01:35:51 ERROR unit.mongodb/2.juju-log certificates:2: Non-existing secret unit:int-cert-secret was attempted to be removed.
unit-mongodb-1: 01:35:51 ERROR unit.mongodb/1.juju-log certificates:2: Non-existing secret unit:ext-cert-secret was attempted to be removed.
unit-mongodb-0: 01:35:52 ERROR unit.mongodb/0.juju-log certificates:2: Non-existing secret unit:int-cert-secret was attempted to be removed.
unit-mongodb-2: 01:35:52 ERROR unit.mongodb/2.juju-log certificates:2: Non-existing secret unit:ext-cert-secret was attempted to be removed.
unit-mongodb-0: 01:35:52 ERROR unit.mongodb/0.juju-log certificates:2: Non-existing secret unit:ext-cert-secret was attempted to be removed.
unit-mongodb-0: 01:36:38 ERROR unit.mongodb/0.juju-log database-peers:0: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b141256900a2e51b9c2397, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.202.159.102', 27017) server_type: RSSecondary, rtt: 0.0010239430002911831>, <ServerDescription ('10.202.159.235', 27017) server_type: RSSecondary, rtt: 0.0011172100003022933>, <ServerDescription ('10.202.159.84', 27017) server_type: RSSecondary, rtt: 0.0016342059998351033>]>
unit-mongodb-0: 01:39:23 ERROR unit.mongodb/0.juju-log database-peers:0: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b141cac6665ae559ac969c, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.202.159.102', 27017) server_type: RSSecondary, rtt: 0.00124947099993733>, <ServerDescription ('10.202.159.235', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b141badb4eea1f828f1113'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 684}")>, <ServerDescription ('10.202.159.84', 27017) server_type: RSSecondary, rtt: 0.0010535379997236305>]>
unit-mongodb-0: 01:43:26 ERROR unit.mongodb/0.juju-log database-peers:0: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b142bdccf931b0e2d22aba, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.202.159.102', 27017) server_type: RSSecondary, rtt: 0.0011842859998978383>, <ServerDescription ('10.202.159.235', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.202.159.235:27017: [Errno 104] Connection reset by peer (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>, <ServerDescription ('10.202.159.84', 27017) server_type: RSSecondary, rtt: 0.0016079769998214033>]>
unit-mongodb-0: 01:43:30 ERROR unit.mongodb/0.juju-log database-peers:0: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b142c11a3a0721141ad841, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.202.159.102', 27017) server_type: RSSecondary, rtt: 0.0012622629997167678>, <ServerDescription ('10.202.159.235', 27017) server_type: RSSecondary, rtt: 0.0018581679996714229>, <ServerDescription ('10.202.159.84', 27017) server_type: RSSecondary, rtt: 0.0014714670001012564>]>
unit-mongodb-0: 01:43:31 ERROR unit.mongodb/0.juju-log database-peers:0: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b142c21a3a0721141ad842, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.202.159.102', 27017) server_type: RSSecondary, rtt: 0.0011825130000033823>, <ServerDescription ('10.202.159.235', 27017) server_type: RSSecondary, rtt: 0.0011533880001479702>, <ServerDescription ('10.202.159.84', 27017) server_type: RSSecondary, rtt: 0.0007932879998406861>]>

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...