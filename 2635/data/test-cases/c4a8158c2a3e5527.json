{"uid":"c4a8158c2a3e5527","name":"test_shard_removal","fullName":"tests.integration.sharding_tests.test_sharding#test_shard_removal","historyId":"69197bb810dc956881ca30d4bd9b5bde","time":{"start":1741052784081,"stop":1741054039920,"duration":1255839},"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","descriptionHtml":"<p>Test shard removal.</p>\n<pre><code>This test also verifies that:\n- Databases that are using this shard as a primary are moved.\n- The balancer is turned back on if turned off.\n- Config server supp    orts removing multiple shards.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1741051737860,"stop":1741051737861,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1741051737861,"stop":1741051737985,"duration":124},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1741051737861,"stop":1741051737861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1741052784081,"stop":1741052784081,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","status":"passed","steps":[],"attachments":[{"uid":"c9d6dbcb8b528e43","name":"log","source":"c9d6dbcb8b528e43.txt","type":"text/plain","size":9002}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1741054039921,"stop":1741054039921,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1741056008890,"stop":1741056009305,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1741056009305,"stop":1741056009305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1741056009305,"stop":1741056009305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1741056009305,"stop":1741056009306,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.sharding_tests"},{"name":"suite","value":"test_sharding"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10579-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.sharding_tests.test_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d427ecee61dc4dd3","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":11,"passed":174,"unknown":6,"total":193},"items":[{"uid":"9bbe021f41c631a3","reportUrl":"../2633//#testresult/9bbe021f41c631a3","status":"passed","time":{"start":1740966443481,"stop":1740967679322,"duration":1235841}},{"uid":"808076323b9e795","reportUrl":"../2632//#testresult/808076323b9e795","status":"passed","time":{"start":1740880071576,"stop":1740881110145,"duration":1038569}},{"uid":"3f7978f6ce7a6674","reportUrl":"../2631//#testresult/3f7978f6ce7a6674","status":"passed","time":{"start":1740793417605,"stop":1740794495849,"duration":1078244}},{"uid":"f6dd372756c0d696","reportUrl":"../2629//#testresult/f6dd372756c0d696","status":"passed","time":{"start":1740707134496,"stop":1740708351911,"duration":1217415}},{"uid":"86d868106e243bb4","reportUrl":"../2628//#testresult/86d868106e243bb4","status":"passed","time":{"start":1740620604759,"stop":1740621764845,"duration":1160086}},{"uid":"dca62a4d76bb9159","reportUrl":"../2626//#testresult/dca62a4d76bb9159","status":"passed","time":{"start":1740538583981,"stop":1740539622124,"duration":1038143}},{"uid":"ac4e66e6eb9d488b","reportUrl":"../2625//#testresult/ac4e66e6eb9d488b","status":"passed","time":{"start":1740449454887,"stop":1740450586775,"duration":1131888}},{"uid":"323c0985762b5a1f","reportUrl":"../2624//#testresult/323c0985762b5a1f","status":"passed","time":{"start":1740361707678,"stop":1740362957299,"duration":1249621}},{"uid":"35b7d2c24f83b4f9","reportUrl":"../2623//#testresult/35b7d2c24f83b4f9","status":"passed","time":{"start":1740275162734,"stop":1740276344536,"duration":1181802}},{"uid":"bb3849d68a3c10a3","reportUrl":"../2622//#testresult/bb3849d68a3c10a3","status":"passed","time":{"start":1740188900577,"stop":1740190030345,"duration":1129768}},{"uid":"60bde5b1fc07d304","reportUrl":"../2621//#testresult/60bde5b1fc07d304","status":"passed","time":{"start":1740102327880,"stop":1740103523160,"duration":1195280}},{"uid":"7a6540dfc23e6490","reportUrl":"../2620//#testresult/7a6540dfc23e6490","status":"passed","time":{"start":1740016432199,"stop":1740017597223,"duration":1165024}},{"uid":"d786fba0d82b80bc","reportUrl":"../2619//#testresult/d786fba0d82b80bc","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  config-server-one/1 [idle] maintenance: Draining shard shard-three","time":{"start":1739929927992,"stop":1739931730370,"duration":1802378}},{"uid":"57ea416f76e72a7d","reportUrl":"../2618//#testresult/57ea416f76e72a7d","status":"passed","time":{"start":1739843294201,"stop":1739844427813,"duration":1133612}},{"uid":"24c54228682e6208","reportUrl":"../2617//#testresult/24c54228682e6208","status":"passed","time":{"start":1739756825911,"stop":1739758157503,"duration":1331592}},{"uid":"cc44ec5db3144fd5","reportUrl":"../2616//#testresult/cc44ec5db3144fd5","status":"passed","time":{"start":1739670342750,"stop":1739671559651,"duration":1216901}},{"uid":"2375749253f2b23","reportUrl":"../2615//#testresult/2375749253f2b23","status":"passed","time":{"start":1739584505473,"stop":1739585689932,"duration":1184459}},{"uid":"ea8555eae4aeba45","reportUrl":"../2614//#testresult/ea8555eae4aeba45","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  config-server-one/0 [idle] maintenance: Draining shard shard-three\n  config-server-one/1 [idle] maintenance: Draining shard shard-three","time":{"start":1739497799798,"stop":1739499602461,"duration":1802663}},{"uid":"1c09504248c76594","reportUrl":"../2613//#testresult/1c09504248c76594","status":"passed","time":{"start":1739412167969,"stop":1739413259133,"duration":1091164}},{"uid":"3876f85bcb6d22b3","reportUrl":"../2603//#testresult/3876f85bcb6d22b3","status":"passed","time":{"start":1739238475798,"stop":1739238562931,"duration":87133}}]},"tags":["runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])","asyncio","group(1)"]},"source":"c4a8158c2a3e5527.json","parameterValues":[]}