{"uid":"26ec68da7bb8a423","name":"test_storage_re_use","fullName":"tests.integration.ha_tests.test_ha#test_storage_re_use","historyId":"163d64357549dfd513cdd997aa331355","time":{"start":1737682929254,"stop":1737683345259,"duration":416005},"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the mongod\n    properly uses the storage that was provided. (ie. doesn't just re-sync everything from\n    primary, but instead computes a diff between current storage and primary storage.)\n    ","descriptionHtml":"<p>Verifies that database units with attached storage correctly repurpose storage.</p>\n<pre><code>It is not enough to verify that Juju attaches the storage. Hence test checks that the mongod\nproperly uses the storage that was provided. (ie. doesn't just re-sync everything from\nprimary, but instead computes a diff between current storage and primary storage.)\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1737682467342,"stop":1737682467342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1737682467342,"stop":1737682467568,"duration":226},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1737682467342,"stop":1737682467342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1737682927198,"stop":1737682929254,"duration":2056},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1737682927198,"stop":1737682927198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the mongod\n    properly uses the storage that was provided. (ie. doesn't just re-sync everything from\n    primary, but instead computes a diff between current storage and primary storage.)\n    ","status":"passed","steps":[],"attachments":[{"uid":"3c5c3774e30ceeee","name":"log","source":"3c5c3774e30ceeee.txt","type":"text/plain","size":1803}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1737683345260,"stop":1737683347445,"duration":2185},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1737683347446,"stop":1737683347446,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1737688098838,"stop":1737688099539,"duration":701},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1737688099541,"stop":1737688099541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1737688099541,"stop":1737688099541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1737688099541,"stop":1737688099541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_ha"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12828-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_ha"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4089497f80822289","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":50,"passed":96,"unknown":7,"total":155},"items":[{"uid":"102251422791c011","reportUrl":"../2527//#testresult/102251422791c011","status":"passed","time":{"start":1737596669800,"stop":1737597429899,"duration":760099}},{"uid":"f8ffb12b9b05bc03","reportUrl":"../2522//#testresult/f8ffb12b9b05bc03","status":"passed","time":{"start":1737510294831,"stop":1737510808150,"duration":513319}},{"uid":"e9ed736017ad2ce","reportUrl":"../2516//#testresult/e9ed736017ad2ce","status":"passed","time":{"start":1737424811458,"stop":1737425034000,"duration":222542}},{"uid":"26a7d0e2ba58162f","reportUrl":"../2506//#testresult/26a7d0e2ba58162f","status":"failed","statusDetails":"AssertionError: attached storage not properly reused by MongoDB.\nassert False","time":{"start":1737337445281,"stop":1737338239841,"duration":794560}},{"uid":"1a7e0222f9798039","reportUrl":"../2505//#testresult/1a7e0222f9798039","status":"passed","time":{"start":1737251739045,"stop":1737252105547,"duration":366502}},{"uid":"780b66388d2fdc22","reportUrl":"../2504//#testresult/780b66388d2fdc22","status":"passed","time":{"start":1737165008422,"stop":1737165512241,"duration":503819}},{"uid":"56ac3377f320ab5","reportUrl":"../2501//#testresult/56ac3377f320ab5","status":"passed","time":{"start":1737078181086,"stop":1737078660364,"duration":479278}},{"uid":"309044ac6e2e0315","reportUrl":"../2499//#testresult/309044ac6e2e0315","status":"passed","time":{"start":1736992883791,"stop":1736993177345,"duration":293554}},{"uid":"73a904ab5ef23614","reportUrl":"../2496//#testresult/73a904ab5ef23614","status":"passed","time":{"start":1736905440037,"stop":1736905663535,"duration":223498}},{"uid":"ccc9d29775706558","reportUrl":"../2493//#testresult/ccc9d29775706558","status":"passed","time":{"start":1736822509616,"stop":1736822744371,"duration":234755}},{"uid":"c89b50014ee7c55c","reportUrl":"../2491//#testresult/c89b50014ee7c55c","status":"passed","time":{"start":1736736218126,"stop":1736736595141,"duration":377015}},{"uid":"541d476b3294a3ce","reportUrl":"../2490//#testresult/541d476b3294a3ce","status":"passed","time":{"start":1736649147680,"stop":1736649361904,"duration":214224}},{"uid":"6c1544a264de8cd3","reportUrl":"../2489//#testresult/6c1544a264de8cd3","status":"passed","time":{"start":1736562997132,"stop":1736563252601,"duration":255469}},{"uid":"f1c57468e215eb78","reportUrl":"../2484//#testresult/f1c57468e215eb78","status":"passed","time":{"start":1736476646473,"stop":1736476850948,"duration":204475}},{"uid":"371dd04ecaf608f8","reportUrl":"../2453//#testresult/371dd04ecaf608f8","status":"passed","time":{"start":1734406142989,"stop":1734406524006,"duration":381017}},{"uid":"c7950c0ff71bbf83","reportUrl":"../2452//#testresult/c7950c0ff71bbf83","status":"passed","time":{"start":1734318515278,"stop":1734318700179,"duration":184901}},{"uid":"15029fef9687ddf9","reportUrl":"../2451//#testresult/15029fef9687ddf9","status":"passed","time":{"start":1734231637832,"stop":1734231980827,"duration":342995}},{"uid":"7d538262712598e1","reportUrl":"../2450//#testresult/7d538262712598e1","status":"passed","time":{"start":1734151424800,"stop":1734151616015,"duration":191215}},{"uid":"905976fd6cd3a4fa","reportUrl":"../2449//#testresult/905976fd6cd3a4fa","status":"passed","time":{"start":1734058690588,"stop":1734058933582,"duration":242994}},{"uid":"5f6d90b05ff6a9fc","reportUrl":"../2446//#testresult/5f6d90b05ff6a9fc","status":"passed","time":{"start":1733974663309,"stop":1733974861360,"duration":198051}}]},"tags":["runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])","asyncio","abort_on_fail","group(1)"]},"source":"26ec68da7bb8a423.json","parameterValues":[]}