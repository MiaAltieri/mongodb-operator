[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  replication/0 [executing] blocked: sharding interface cannot be used by replicas
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  replication/0 [idle] active:
[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.6.1    unsupported  01:41:25Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
application                        active       1  application                                0  no       
application-host                   active       1  application                                0  no       
config-server-one         6.0.6    active       1  mongodb                                    0  no       
config-server-two         6.0.6    active       1  mongodb                                    1  no       
mongos                    6.0.6    active       1  mongos                    6/edge          39  no       
replication               6.0.6    active       1  mongodb                                    3  no       
s3-integrator                      blocked      1  s3-integrator             latest/edge    129  no       Missing parameters: ['access-key', 'secret-key']
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       
shard                     6.0.6    active       1  mongodb                                    2  no       

Unit                         Workload  Agent  Machine  Public address  Ports            Message
application-host/0*          active    idle   5        10.207.87.240                    
  mongos/0*                  waiting   idle            10.207.87.240                    Connecting to config-server
application/0*               active    idle   7        10.207.87.126                    
config-server-one/0*         blocked   idle   0        10.207.87.195   27017-27018/tcp  Sharding roles do not support database interface.
config-server-two/0*         active    idle   1        10.207.87.81    27017-27018/tcp  
replication/0*               active    idle   6        10.207.87.184   27017/tcp        
s3-integrator/0*             blocked   idle   4        10.207.87.123                    Missing parameters: ['access-key', 'secret-key']
self-signed-certificates/0*  active    idle   3        10.207.87.6                      
shard/0*                     blocked   idle   2        10.207.87.93    27017/tcp        Relation to s3-integrator is not supported, config role must be config-server.

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.207.87.195  juju-ac4c1a-0  ubuntu@22.04      Running
1        started  10.207.87.81   juju-ac4c1a-1  ubuntu@22.04      Running
2        started  10.207.87.93   juju-ac4c1a-2  ubuntu@22.04      Running
3        started  10.207.87.6    juju-ac4c1a-3  ubuntu@22.04      Running
4        started  10.207.87.123  juju-ac4c1a-4  ubuntu@22.04      Running
5        started  10.207.87.240  juju-ac4c1a-5  ubuntu@22.04      Running
6        started  10.207.87.184  juju-ac4c1a-6  ubuntu@22.04      Running
7        started  10.207.87.126  juju-ac4c1a-7  ubuntu@20.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-0: 01:33:56 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:33:56 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-one-0: 01:33:57 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-7: 01:34:02 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-7: 01:34:02 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-application-0: 01:34:02 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 01:34:23 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 01:34:23 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-two-0: 01:34:23 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 01:34:28 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:34:28 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-0: 01:34:28 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-3: 01:34:35 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 01:34:35 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-self-signed-certificates-0: 01:34:35 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-one-0: 01:34:39 ERROR unit.config-server-one/0.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-one-0: 01:34:39 ERROR unit.config-server-one/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
machine-4: 01:34:43 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 01:34:43 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-s3-integrator-0: 01:34:43 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 01:34:51 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 01:34:51 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-application-host-0: 01:34:51 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 01:35:06 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 01:35:06 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-replication-0: 01:35:06 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-two-0: 01:35:09 ERROR unit.config-server-two/0.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-two-0: 01:35:09 ERROR unit.config-server-two/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-0: 01:35:11 ERROR unit.shard/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-0: 01:35:12 ERROR unit.shard/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-replication-0: 01:35:43 ERROR unit.replication/0.juju-log Unable to set params: ['vm.max_map_count']
unit-replication-0: 01:35:43 ERROR unit.replication/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-mongos-0: 01:36:09 ERROR juju.worker.meterstatus error running "meter-status-changed": exit status 1
unit-shard-0: 01:37:24 ERROR juju.worker.dependency "uniter" manifold worker returned unexpected error: relation scope id "38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#12#config-server-one": settings 38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#12#config-server-one not found (not found)
unit-config-server-one-0: 01:37:49 ERROR unit.config-server-one/0.juju-log database:14: Charm is in sharding role: MongoDBRoles.CONFIG_SERVER. Does not support database interface.
unit-config-server-one-0: 01:37:49 ERROR unit.config-server-one/0.juju-log database:14: Charm is in sharding role: MongoDBRoles.CONFIG_SERVER. Does not support database interface.
unit-shard-0: 01:37:49 ERROR unit.shard/0.juju-log database:13: Charm is in sharding role: MongoDBRoles.SHARD. Does not support database interface.
unit-shard-0: 01:37:49 ERROR unit.shard/0.juju-log database:13: Charm is in sharding role: MongoDBRoles.SHARD. Does not support database interface.
unit-shard-0: 01:37:55 ERROR unit.shard/0.juju-log database:13: Charm is in sharding role: MongoDBRoles.SHARD. Does not support database interface.
unit-config-server-one-0: 01:37:56 ERROR unit.config-server-one/0.juju-log database:14: Charm is in sharding role: MongoDBRoles.CONFIG_SERVER. Does not support database interface.
unit-config-server-one-0: 01:38:01 ERROR unit.config-server-one/0.juju-log database:14: Charm is in sharding role: MongoDBRoles.CONFIG_SERVER. Does not support database interface.
unit-shard-0: 01:38:01 ERROR unit.shard/0.juju-log database:13: Charm is in sharding role: MongoDBRoles.SHARD. Does not support database interface.
unit-application-0: 01:38:01 ERROR juju.worker.dependency "uniter" manifold worker returned unexpected error: relation scope id "38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#13#provider#shard/0": settings 38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#13#provider#shard/0 not found (not found)
unit-shard-0: 01:38:01 ERROR juju.worker.dependency "uniter" manifold worker returned unexpected error: relation scope id "38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#13#application": settings 38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#13#application not found (not found)
unit-replication-0: 01:38:27 ERROR unit.replication/0.juju-log sharding:15: Charm is in replication role: MongoDBRoles.REPLICATION. Does not support RelationNames.SHARDING interface.
unit-config-server-one-0: 01:38:29 ERROR juju.worker.uniter.context cannot apply changes: granting secrets access: cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9t569te5svalkag7g" for "application-replication": cannot grant access to secret in scope of "relation-replication.sharding#config-server-one.config-server" which is not alive
cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9t569te5svalkag80" for "application-replication": cannot grant access to secret in scope of "relation-replication.sharding#config-server-one.config-server" which is not alive
unit-config-server-one-0: 01:38:29 ERROR juju.worker.uniter.operation hook "config-server-relation-changed" (via hook dispatching script: dispatch) failed: granting secrets access: cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9t569te5svalkag7g" for "application-replication": cannot grant access to secret in scope of "relation-replication.sharding#config-server-one.config-server" which is not alive
cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9t569te5svalkag80" for "application-replication": cannot grant access to secret in scope of "relation-replication.sharding#config-server-one.config-server" which is not alive
unit-replication-0: 01:38:39 ERROR unit.replication/0.juju-log sharding:15: Charm is in replication role: MongoDBRoles.REPLICATION. Does not support RelationNames.SHARDING interface.
unit-replication-0: 01:38:39 ERROR juju.worker.dependency "uniter" manifold worker returned unexpected error: relation scope id "38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#16#shard": settings 38e61d19-84c5-4d92-80b4-e34b4eac4c1a:r#16#shard not found (not found)
unit-replication-0: 01:38:46 ERROR unit.replication/0.juju-log sharding:15: Charm is in replication role: MongoDBRoles.REPLICATION. Does not support RelationNames.SHARDING interface.
unit-mongos-0: 01:39:19 ERROR unit.mongos/0.juju-log cluster:17: Can't delete secret for relation 11
unit-replication-0: 01:39:23 ERROR juju.worker.uniter.context cannot apply changes: granting secrets access: cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9tim9te5svalkag8g" for "application-mongos": cannot grant access to secret in scope of "relation-mongos.cluster#replication.cluster" which is not alive
unit-replication-0: 01:39:23 ERROR juju.worker.uniter.operation hook "cluster-relation-broken" (via hook dispatching script: dispatch) failed: granting secrets access: cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9tim9te5svalkag8g" for "application-mongos": cannot grant access to secret in scope of "relation-mongos.cluster#replication.cluster" which is not alive
unit-mongos-0: 01:39:48 ERROR unit.mongos/0.juju-log cluster:18: Can't delete secret for relation 11
unit-shard-0: 01:39:57 ERROR juju.worker.uniter.context cannot apply changes: granting secrets access: cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9tr69te5svalkag90" for "application-mongos": cannot grant access to secret in scope of "relation-mongos.cluster#shard.cluster" which is not alive
unit-shard-0: 01:39:57 ERROR juju.worker.uniter.operation hook "cluster-relation-broken" (via hook dispatching script: dispatch) failed: granting secrets access: cannot change access to "secret://38e61d19-84c5-4d92-80b4-e34b4eac4c1a/cun9tr69te5svalkag90" for "application-mongos": cannot grant access to secret in scope of "relation-mongos.cluster#shard.cluster" which is not alive
unit-replication-0: 01:40:28 ERROR unit.replication/0.juju-log certificates:20: Non-existing secret unit:int-cert-secret was attempted to be removed.
unit-replication-0: 01:40:28 ERROR unit.replication/0.juju-log certificates:20: Non-existing secret unit:ext-cert-secret was attempted to be removed.
unit-replication-0: 01:40:43 ERROR unit.replication/0.juju-log sharding:21: Charm is in replication role: MongoDBRoles.REPLICATION. Does not support RelationNames.SHARDING interface.
unit-replication-0: 01:40:48 ERROR unit.replication/0.juju-log sharding:21: Charm is in replication role: MongoDBRoles.REPLICATION. Does not support RelationNames.SHARDING interface.
unit-replication-0: 01:40:53 ERROR unit.replication/0.juju-log sharding:21: Charm is in replication role: MongoDBRoles.REPLICATION. Does not support RelationNames.SHARDING interface.

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...