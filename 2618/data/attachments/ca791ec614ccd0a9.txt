[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] active: 
  shard-two/1 [idle] active: Shard drained from cluster, ready for removal
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [executing] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [executing] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [executing] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
  shard-two/1 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] maintenance: Adding shard to config-server
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [idle] active: 
  shard-two/1 [idle] active: Primary
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Draining shard from cluster.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/0 [executing] maintenance: Draining shard from cluster.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  shard-two/1 [idle] active: Primary
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
  shard-one/0 [idle] active: Primary
  shard-one/1 [idle] active: 
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
  config-server-one/1 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  config-server-one/0 [idle] maintenance: Draining shard shard-two
[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.6.1    unsupported  02:41:12Z

App                Version  Status  Scale  Charm    Channel  Rev  Exposed  Message
config-server-one  6.0.6    active      2  mongodb             0  no       
shard-one          6.0.6    active      2  mongodb             1  no       
shard-three        6.0.6    active      2  mongodb             3  no       

Unit                  Workload  Agent  Machine  Public address  Ports            Message
config-server-one/0*  active    idle   0        10.254.83.146   27017-27018/tcp  Primary
config-server-one/1   active    idle   1        10.254.83.3     27017-27018/tcp  
shard-one/0*          active    idle   2        10.254.83.209   27017/tcp        Primary
shard-one/1           active    idle   3        10.254.83.174   27017/tcp        
shard-three/0         active    idle   6        10.254.83.166   27017/tcp        Primary
shard-three/1*        active    idle   7        10.254.83.80    27017/tcp        

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.254.83.146  juju-eadea1-0  ubuntu@22.04      Running
1        started  10.254.83.3    juju-eadea1-1  ubuntu@22.04      Running
2        started  10.254.83.209  juju-eadea1-2  ubuntu@22.04      Running
3        started  10.254.83.174  juju-eadea1-3  ubuntu@22.04      Running
6        started  10.254.83.166  juju-eadea1-6  ubuntu@22.04      Running
7        started  10.254.83.80   juju-eadea1-7  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-0: 01:32:08 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:32:08 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-one-0: 01:32:08 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 01:32:14 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 01:32:14 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-one-1: 01:32:14 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 01:32:27 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:32:27 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-0: 01:32:27 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-3: 01:32:29 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 01:32:29 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-1: 01:32:29 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 01:32:44 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 01:32:44 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-0: 01:32:45 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 01:32:45 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 01:32:45 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-1: 01:32:46 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-one-0: 01:32:52 ERROR unit.config-server-one/0.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-one-0: 01:32:52 ERROR unit.config-server-one/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-config-server-one-1: 01:32:57 ERROR unit.config-server-one/1.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-one-1: 01:32:57 ERROR unit.config-server-one/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 01:33:07 ERROR unit.shard-one/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 01:33:07 ERROR unit.shard-one/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
machine-7: 01:33:07 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-7: 01:33:07 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-three-1: 01:33:07 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 01:33:09 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 01:33:09 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-three-0: 01:33:09 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-shard-one-1: 01:33:10 ERROR unit.shard-one/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 01:33:10 ERROR unit.shard-one/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-two-1: 01:33:28 ERROR unit.shard-two/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-two-1: 01:33:28 ERROR unit.shard-two/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 01:33:29 ERROR unit.shard-two/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 01:33:29 ERROR unit.shard-two/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-two-1: 01:33:36 ERROR unit.shard-two/1.juju-log Uncaught exception while in charm code:
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 3187, in _run
    result = subprocess.run(args, **kwargs)  # type: ignore
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '('/var/lib/juju/tools/unit-shard-two-1/secret-get', '--label', 'database-peers.shard-two.app', '--format=json')' returned non-zero exit status 1.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 3552, in secret_get
    result = self._run('secret-get', *args, return_output=True, use_json=True)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 3189, in _run
    raise ModelError(e.stderr) from e
ops.model.ModelError: ERROR consumer label "database-peers.shard-two.app" not found


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 638, in meta
    self._secret_meta = self._model.get_secret(label=self.label)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 291, in get_secret
    content = self._backend.secret_get(id=id, label=label)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 3555, in secret_get
    raise SecretNotFoundError() from e
ops.model.SecretNotFoundError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 3187, in _run
    result = subprocess.run(args, **kwargs)  # type: ignore
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '('/var/lib/juju/tools/unit-shard-two-1/secret-get', '--label', 'shard-two.app', '--format=json')' returned non-zero exit status 1.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/src/charm.py", line 25, in <module>
    main(MongoDBVMCharm)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/main.py", line 551, in main
    manager.run()
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/main.py", line 530, in run
    self._emit()
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/main.py", line 519, in _emit
    _emit_charm_event(self.charm, self.dispatcher.event_name)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/main.py", line 147, in _emit_charm_event
    event_to_emit.emit(*args, **kwargs)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/framework.py", line 348, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/framework.py", line 860, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/framework.py", line 950, in _reemit
    custom_handler(event)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/events/lifecycle.py", line 132, in on_config_changed
    self.dependent.on_config_changed()
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/managers/mongodb_operator.py", line 363, in on_config_changed
    if self.state.is_role(MongoDBRoles.UNKNOWN):  # We haven't run the leader elected event yet.
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/state/charm_state.py", line 362, in is_role
    return self.app_peer_data.role == role
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/state/app_peer_state.py", line 81, in role
    if not (databag_role := self.relation_data.get(AppPeerDataKeys.ROLE.value)):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 943, in get
    if result := self[key]:
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 876, in __getitem__
    result = self.relation_data.fetch_my_relation_field(self.relation_id, key)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 1393, in fetch_my_relation_field
    if relation_data := self.fetch_my_relation_data([relation_id], [field], relation_name):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 1382, in fetch_my_relation_data
    data[relation.id] = self._fetch_my_specific_relation_data(relation, fields)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 532, in wrapper
    return f(self, *args, **kwargs)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 2329, in _fetch_my_specific_relation_data
    self.component, self.secret_fields, relation, fields
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 1966, in secret_fields
    self.static_secret_fields if self.static_secret_fields else self.current_secret_fields
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 1985, in current_secret_fields
    if content := self._get_group_secret_contents(relation, group):
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 2316, in _get_group_secret_contents
    result = super()._get_group_secret_contents(relation, group, secret_fields)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 1119, in _get_group_secret_contents
    if (secret := self._get_relation_secret(relation.id, group)) and (
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 504, in wrapper
    return f(self, *args, **kwargs)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 2303, in _get_relation_secret
    return self.secrets.get(
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 808, in get
    if secret.meta:
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 641, in meta
    self._legacy_compat_find_secret_by_old_label()
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 555, in wrapper
    return f(self, *args, **kwargs)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/single_kernel_mongo/lib/charms/data_platform_libs/v0/data_interfaces.py", line 676, in _legacy_compat_find_secret_by_old_label
    self._secret_meta = self._model.get_secret(label=label)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 291, in get_secret
    content = self._backend.secret_get(id=id, label=label)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 3552, in secret_get
    result = self._run('secret-get', *args, return_output=True, use_json=True)
  File "/var/lib/juju/agents/unit-shard-two-1/charm/venv/lib/python3.10/site-packages/ops/model.py", line 3189, in _run
    raise ModelError(e.stderr) from e
ops.model.ModelError: ERROR permission denied

unit-shard-two-1: 01:33:36 ERROR juju.worker.uniter.operation hook "config-changed" (via hook dispatching script: dispatch) failed: exit status 1
unit-shard-three-1: 01:33:42 ERROR unit.shard-three/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-three-1: 01:33:42 ERROR unit.shard-three/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-three-0: 01:33:47 ERROR unit.shard-three/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-three-0: 01:33:47 ERROR unit.shard-three/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 01:37:49 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e46c474876713b4bcf1e, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0019561879998946097>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.00129432599987922>]>
unit-shard-one-0: 01:37:50 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e46df68fd1b1b985d0a4, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: RSSecondary, rtt: 0.0028116240000599646>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.000827174000278319>]>
unit-shard-two-0: 01:37:53 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e470474876713b4bcf1f, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0009714050002003205>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e466b3dad5242ab345a6'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13913}")>]>
unit-shard-one-0: 01:37:54 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e471f68fd1b1b985d0a5, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e468ce36f607f0a6cce8'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 12785}")>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.0012928629998896213>]>
unit-shard-two-0: 01:37:57 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e474474876713b4bcf20, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0019822360000034678>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e466b3dad5242ab345a6'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 9644}")>]>
unit-shard-one-0: 01:37:59 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e475f68fd1b1b985d0a6, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e468ce36f607f0a6cce8'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 8507}")>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.003922421999959624>]>
unit-shard-two-0: 01:38:02 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e478474876713b4bcf21, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0018813140000020212>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e466b3dad5242ab345a6'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 5407}")>]>
unit-shard-one-0: 01:38:03 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e47af68fd1b1b985d0a7, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e468ce36f607f0a6cce8'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 4270}")>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.0015271560000655882>]>
unit-shard-two-0: 01:38:06 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e47d474876713b4bcf22, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0017995500002143672>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e466b3dad5242ab345a6'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 1143}")>]>
unit-shard-one-0: 01:38:07 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e47ef68fd1b1b985d0a8, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e468ce36f607f0a6cce8'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 66}")>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.0011279220002506918>]>
unit-shard-two-0: 01:38:10 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e481474876713b4bcf23, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0008343449999301811>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0018697919999794976>]>
unit-shard-three-1: 01:38:10 ERROR unit.shard-three/1.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e48169247f6d68f9bf00, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.166', 27017) server_type: RSSecondary, rtt: 0.0025004340000123193>, <ServerDescription ('10.254.83.80', 27017) server_type: RSSecondary, rtt: 0.000992474999748083>]>
unit-shard-one-0: 01:38:11 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e482f68fd1b1b985d0a9, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: RSSecondary, rtt: 0.0012726340000881464>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.001496465999935026>]>
unit-shard-two-0: 01:38:14 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e485474876713b4bcf24, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0012544500000331027>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0011414959999456187>]>
unit-shard-three-1: 01:38:14 ERROR unit.shard-three/1.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e48569247f6d68f9bf01, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.166', 27017) server_type: RSSecondary, rtt: 0.0014791949997743359>, <ServerDescription ('10.254.83.80', 27017) server_type: RSSecondary, rtt: 0.0008922349998101708>]>
unit-shard-one-0: 01:38:16 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e486f68fd1b1b985d0aa, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: RSSecondary, rtt: 0.0012294919997657416>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.0006849139999758336>]>
unit-shard-two-0: 01:38:50 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4a8fe4260faa2993c5a, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.003057659999740281>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e48043afa84910ad33a6'), 'counter': 6}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 3672, 'lastCommittedOpTime': Timestamp(1739842702, 6), '$clusterTime': {'clusterTime': Timestamp(1739842725, 2), 'signature': {'hash': b'\\xf9\\xc7\\x8b\\x15\\x01\\x00\\xb8\\xa98\\xd3\\x176y\\xc2\\x1f\\xe5*\\xfcFL', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739842702, 6)}")>]>
unit-shard-two-0: 01:38:54 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4adfe4260faa2993c5b, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.001761363999776222>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.254.83.35:27017: [Errno 104] Connection reset by peer (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>]>
unit-shard-three-1: 01:38:55 ERROR unit.shard-three/1.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4ae875b901ca6cedd08, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.166', 27017) server_type: RSSecondary, rtt: 0.001086941000266961>, <ServerDescription ('10.254.83.80', 27017) server_type: RSSecondary, rtt: 0.002335506999770587>]>
unit-shard-two-0: 01:38:58 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4b1fe4260faa2993c5c, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0012206729998069932>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.001541397999972105>]>
unit-shard-three-1: 01:38:59 ERROR unit.shard-three/1.juju-log sharding:10: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4b2875b901ca6cedd09, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.166', 27017) server_type: RSSecondary, rtt: 0.0014846899998701701>, <ServerDescription ('10.254.83.80', 27017) server_type: RSSecondary, rtt: 0.0012332870001046103>]>
unit-shard-two-0: 01:39:02 ERROR unit.shard-two/0.juju-log sharding:9: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4b5fe4260faa2993c5d, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0012176069999441097>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0023942770003486658>]>
unit-shard-one-0: 01:39:06 ERROR unit.shard-one/0.juju-log database-peers:3: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4b87da15613efff9f2a, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e48017da14c541142d79'), 'counter': 11}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 5003, 'lastCommittedOpTime': Timestamp(1739842732, 6), '$clusterTime': {'clusterTime': Timestamp(1739842735, 2), 'signature': {'hash': b'\\x9b\\xa4\\xd5\\xf6\\xb5\\xe1\\xd4\\xa6f\\xc8\\xd1\\x1d\\x9c\\x88\\xf5]+!Q\\xe7', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739842732, 6)}")>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.002256046000184142>]>
unit-shard-one-0: 01:39:10 ERROR unit.shard-one/0.juju-log sharding:8: Not reconfiguring: error=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4bd174b7603b48bfc6f, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3e48017da14c541142d79'), 'counter': 11}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 608, 'lastCommittedOpTime': Timestamp(1739842732, 6), '$clusterTime': {'clusterTime': Timestamp(1739842735, 2), 'signature': {'hash': b'\\x9b\\xa4\\xd5\\xf6\\xb5\\xe1\\xd4\\xa6f\\xc8\\xd1\\x1d\\x9c\\x88\\xf5]+!Q\\xe7', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739842732, 6)}")>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.001467456999762362>]>
unit-shard-one-0: 01:39:32 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4d3174b7603b48bfc71, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: RSSecondary, rtt: 0.0012820870001633011>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.001382486000238714>]>
unit-shard-one-0: 01:39:36 ERROR unit.shard-one/0.juju-log sharding:8: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3e4d7174b7603b48bfc72, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.174', 27017) server_type: RSSecondary, rtt: 0.0012934979999954521>, <ServerDescription ('10.254.83.209', 27017) server_type: RSSecondary, rtt: 0.0017390080001860042>]>
unit-config-server-one-0: 01:48:42 ERROR unit.config-server-one/0.juju-log config-server:10: cannot remove shard shard-three from cluster, another shard is draining
unit-config-server-one-0: 01:48:42 ERROR unit.config-server-one/0.juju-log config-server:10: Deferring _on_relation_event for shards interface since: error=cannot remove shard shard-three from cluster, another shard is draining
unit-config-server-one-0: 01:51:35 ERROR unit.config-server-one/0.juju-log cannot remove shard shard-three from cluster, another shard is draining
unit-shard-two-0: 02:07:38 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb68f16f14cd678028d3, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0012903489996460848>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.001030186999742>]>
unit-shard-two-0: 02:07:42 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb6df16f14cd678028d4, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.001263406999896688>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb6494983de6c6a63adb'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13121, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844453, 4), 'signature': {'hash': b'<s\\xe7\\xa1\\xef\\xe4\\xd2\\x83\\x1e\\x99\\x8d\\xa6\\xbdp\\xd3\\xd4&\\x9b4\\xe4', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:07:46 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb71f16f14cd678028d5, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.001335415000539797>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb6494983de6c6a63adb'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 8893, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844453, 4), 'signature': {'hash': b'<s\\xe7\\xa1\\xef\\xe4\\xd2\\x83\\x1e\\x99\\x8d\\xa6\\xbdp\\xd3\\xd4&\\x9b4\\xe4', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:07:50 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb75f16f14cd678028d6, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0008741959991311887>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb6494983de6c6a63adb'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 4687, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844453, 4), 'signature': {'hash': b'<s\\xe7\\xa1\\xef\\xe4\\xd2\\x83\\x1e\\x99\\x8d\\xa6\\xbdp\\xd3\\xd4&\\x9b4\\xe4', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:07:54 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb79f16f14cd678028d7, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.002800999000101001>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb6494983de6c6a63adb'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 472, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844453, 4), 'signature': {'hash': b'<s\\xe7\\xa1\\xef\\xe4\\xd2\\x83\\x1e\\x99\\x8d\\xa6\\xbdp\\xd3\\xd4&\\x9b4\\xe4', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:07:59 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb7ef16f14cd678028d8, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.001783546000297065>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0012086790002285852>]>
unit-shard-two-0: 02:08:03 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb82f16f14cd678028d9, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0011817969998446642>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0028294200001255376>]>
unit-shard-two-0: 02:08:07 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb86f16f14cd678028da, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0007671280000067782>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb7c9a01d2ec507d5f9d'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13098, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844483, 3), 'signature': {'hash': b'\\x0c\\x98a\\xae\\xe1T\\x95\\xfc\\xb6\\xcfi\\xbe\\xd5\\xe4\\x08\\xeej\\xd2\\xb6\\xfa', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:08:11 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb8af16f14cd678028db, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0011899819992322591>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb7c9a01d2ec507d5f9d'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 8856, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844483, 3), 'signature': {'hash': b'\\x0c\\x98a\\xae\\xe1T\\x95\\xfc\\xb6\\xcfi\\xbe\\xd5\\xe4\\x08\\xeej\\xd2\\xb6\\xfa', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:08:16 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb8ef16f14cd678028dc, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0012144379998062504>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb7c9a01d2ec507d5f9d'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 4622, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844483, 3), 'signature': {'hash': b'\\x0c\\x98a\\xae\\xe1T\\x95\\xfc\\xb6\\xcfi\\xbe\\xd5\\xe4\\x08\\xeej\\xd2\\xb6\\xfa', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:08:20 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb93f16f14cd678028dd, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0021515500002351473>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb7c9a01d2ec507d5f9d'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 392, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739844483, 3), 'signature': {'hash': b'\\x0c\\x98a\\xae\\xe1T\\x95\\xfc\\xb6\\xcfi\\xbe\\xd5\\xe4\\x08\\xeej\\xd2\\xb6\\xfa', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844434, 2)}")>]>
unit-shard-two-0: 02:08:24 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eb97f16f14cd678028de, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.000893247999556479>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.00118276600005629>]>
unit-shard-two-0: 02:08:52 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3ebb36544c659093a040c, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0010834919994522352>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb94508f8121b5d1f32f'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 11158, 'lastCommittedOpTime': Timestamp(1739844505, 2), '$clusterTime': {'clusterTime': Timestamp(1739844531, 5), 'signature': {'hash': b'`Y$\\xd0d\\x99\\x917G\\x84a:\\x17\\x82\\xd5\\x00\\x94Q\\x1b+', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844505, 2)}")>]>
unit-shard-two-0: 02:08:57 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3ebb86544c659093a040d, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0019914360000257147>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb94508f8121b5d1f32f'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 6963, 'lastCommittedOpTime': Timestamp(1739844505, 2), '$clusterTime': {'clusterTime': Timestamp(1739844531, 5), 'signature': {'hash': b'`Y$\\xd0d\\x99\\x917G\\x84a:\\x17\\x82\\xd5\\x00\\x94Q\\x1b+', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844505, 2)}")>]>
unit-shard-two-0: 02:09:01 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3ebbc6544c659093a040e, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0015138770004341495>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eb94508f8121b5d1f32f'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 2728, 'lastCommittedOpTime': Timestamp(1739844505, 2), '$clusterTime': {'clusterTime': Timestamp(1739844531, 5), 'signature': {'hash': b'`Y$\\xd0d\\x99\\x917G\\x84a:\\x17\\x82\\xd5\\x00\\x94Q\\x1b+', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739844505, 2)}")>]>
unit-shard-two-0: 02:09:05 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3ebc06544c659093a040f, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0010121129998879042>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.254.83.35:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>]>
unit-shard-two-0: 02:09:09 ERROR unit.shard-two/0.juju-log sharding:11: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3ebc46544c659093a0410, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0014301849996627425>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0013599510002677562>]>
unit-shard-two-0: 02:21:16 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3ee9b0b92b7ad05c1d2fe, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0011882170001626946>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0013419759998214431>]>
unit-shard-two-0: 02:21:20 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3ee9f0b92b7ad05c1d2ff, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0011094880001110141>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3ee973d2643a4fdc58f1a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 13348, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739845272, 6), 'signature': {'hash': b'\\xe6\\x9cD\\xa6N\\xe6\\xb3\\x15\\xae\\xc8#KK\\x16F\\x03\\xccq\\xbc\\xf3', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845246, 1)}")>]>
unit-shard-two-0: 02:21:24 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eea30b92b7ad05c1d300, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0019012180000572698>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3ee973d2643a4fdc58f1a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 9132, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739845272, 6), 'signature': {'hash': b'\\xe6\\x9cD\\xa6N\\xe6\\xb3\\x15\\xae\\xc8#KK\\x16F\\x03\\xccq\\xbc\\xf3', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845246, 1)}")>]>
unit-shard-two-0: 02:21:29 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eea70b92b7ad05c1d301, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0025458820000494597>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3ee973d2643a4fdc58f1a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 4928, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739845272, 6), 'signature': {'hash': b'\\xe6\\x9cD\\xa6N\\xe6\\xb3\\x15\\xae\\xc8#KK\\x16F\\x03\\xccq\\xbc\\xf3', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845246, 1)}")>]>
unit-shard-two-0: 02:21:33 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eeac0b92b7ad05c1d302, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0011471480002001044>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3ee973d2643a4fdc58f1a'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 738, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739845272, 6), 'signature': {'hash': b'\\xe6\\x9cD\\xa6N\\xe6\\xb3\\x15\\xae\\xc8#KK\\x16F\\x03\\xccq\\xbc\\xf3', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845246, 1)}")>]>
unit-shard-two-0: 02:21:37 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eeb00b92b7ad05c1d303, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0011644400001387112>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.000974714999756543>]>
unit-shard-two-0: 02:21:41 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eeb40b92b7ad05c1d304, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0015990680003596935>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.001656226000704919>]>
unit-shard-two-0: 02:21:45 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eeb80b92b7ad05c1d305, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0010551360001045396>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eeaedf6d1599b639976b'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 12054, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739845301, 7), 'signature': {'hash': b'\\x81S\\xb0.\\xab\\xdc\\x1c__\\xaf\\xbf\\xcc\\r4%\\x80\\xe4\\xea?\\xc0', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845246, 1)}")>]>
unit-shard-two-0: 02:21:49 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eebc0b92b7ad05c1d306, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0013436489998639445>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eeaedf6d1599b639976b'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 7836, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739845301, 7), 'signature': {'hash': b'\\x81S\\xb0.\\xab\\xdc\\x1c__\\xaf\\xbf\\xcc\\r4%\\x80\\xe4\\xea?\\xc0', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845246, 1)}")>]>
unit-shard-two-0: 02:21:54 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eec10b92b7ad05c1d307, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0010988569993060082>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eeaedf6d1599b639976b'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 3618, 'lastCommittedOpTime': Timestamp(0, 0), '$clusterTime': {'clusterTime': Timestamp(1739845301, 7), 'signature': {'hash': b'\\x81S\\xb0.\\xab\\xdc\\x1c__\\xaf\\xbf\\xcc\\r4%\\x80\\xe4\\xea?\\xc0', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845246, 1)}")>]>
unit-shard-two-0: 02:21:58 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eec50b92b7ad05c1d308, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0014305109998531407>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.254.83.35:27017: [Errno 104] Connection reset by peer (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>]>
unit-shard-two-0: 02:22:02 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eec90b92b7ad05c1d309, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0008824810001897276>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0013545089996114257>]>
unit-shard-two-0: 02:22:31 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eee5409f86174e13dd2e, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0011618550006460282>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eec653de7da7bbf38193'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 11462, 'lastCommittedOpTime': Timestamp(1739845326, 2), '$clusterTime': {'clusterTime': Timestamp(1739845349, 4), 'signature': {'hash': b'-\\x90.\\x9c\\n a\\xc5\\xda|\\xa9\\x8f\\xa2\\x1fn\\xa4?\\x87\\x9a\\xec', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845326, 2)}")>]>
unit-shard-two-0: 02:22:35 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eeea409f86174e13dd2f, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.001084909999917727>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eec653de7da7bbf38193'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 7265, 'lastCommittedOpTime': Timestamp(1739845326, 2), '$clusterTime': {'clusterTime': Timestamp(1739845349, 4), 'signature': {'hash': b'-\\x90.\\x9c\\n a\\xc5\\xda|\\xa9\\x8f\\xa2\\x1fn\\xa4?\\x87\\x9a\\xec', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845326, 2)}")>]>
unit-shard-two-0: 02:22:39 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eeee409f86174e13dd30, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0010023929999078973>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67b3eec653de7da7bbf38193'), 'counter': 5}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 3070, 'lastCommittedOpTime': Timestamp(1739845326, 2), '$clusterTime': {'clusterTime': Timestamp(1739845349, 4), 'signature': {'hash': b'-\\x90.\\x9c\\n a\\xc5\\xda|\\xa9\\x8f\\xa2\\x1fn\\xa4?\\x87\\x9a\\xec', 'keyId': 7472566186719313932}}, 'operationTime': Timestamp(1739845326, 2)}")>]>
unit-shard-two-0: 02:22:43 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eef2409f86174e13dd31, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.001438485000107903>, <ServerDescription ('10.254.83.35', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.254.83.35:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>]>
unit-shard-two-0: 02:22:47 ERROR unit.shard-two/0.juju-log sharding:12: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67b3eef6409f86174e13dd32, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.254.83.198', 27017) server_type: RSSecondary, rtt: 0.0012755480001942487>, <ServerDescription ('10.254.83.35', 27017) server_type: RSSecondary, rtt: 0.0014791700004934683>]>

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...