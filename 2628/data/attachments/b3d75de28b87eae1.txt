[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.6.1    unsupported  01:42:38Z

App            Version  Status  Scale  Charm    Channel  Rev  Exposed  Message
config-server  6.0.6    active      3  mongodb  6/edge   210  no       
shard-one      6.0.6    active      3  mongodb  6/edge   210  no       
shard-two      6.0.6    active      1  mongodb  6/edge   210  no       

Unit              Workload  Agent      Machine  Public address  Ports            Message
config-server/0   active    executing  0        10.200.222.211  27017-27018/tcp  
config-server/1   active    idle       1        10.200.222.249  27017-27018/tcp  
config-server/2*  active    executing  2        10.200.222.156  27017-27018/tcp  
shard-one/0       blocked   idle       3        10.200.222.113  27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).
shard-one/1*      blocked   executing  4        10.200.222.212  27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).
shard-one/2       blocked   executing  5        10.200.222.166  27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).
shard-two/0*      blocked   idle       6        10.200.222.243  27017/tcp        Charm revision (210) is not up-to date with config-server (1+dfeb7f0-dirty-locally built).

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.200.222.211  juju-cfb8e7-0  ubuntu@22.04      Running
1        started  10.200.222.249  juju-cfb8e7-1  ubuntu@22.04      Running
2        started  10.200.222.156  juju-cfb8e7-2  ubuntu@22.04      Running
3        started  10.200.222.113  juju-cfb8e7-3  ubuntu@22.04      Running
4        started  10.200.222.212  juju-cfb8e7-4  ubuntu@22.04      Running
5        started  10.200.222.166  juju-cfb8e7-5  ubuntu@22.04      Running
6        started  10.200.222.243  juju-cfb8e7-6  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-2: 01:32:16 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:32:17 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-2: 01:32:17 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-0: 01:32:19 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:32:19 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-0: 01:32:19 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 01:32:21 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 01:32:21 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-config-server-1: 01:32:21 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 01:32:22 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 01:32:22 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-1: 01:32:22 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-3: 01:32:22 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 01:32:22 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-0: 01:32:23 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 01:32:24 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 01:32:24 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-two-0: 01:32:24 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 01:32:25 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 01:32:25 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-shard-one-2: 01:32:26 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-config-server-2: 01:32:46 ERROR unit.config-server/2.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-2: 01:32:46 ERROR unit.config-server/2.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-config-server-1: 01:32:55 ERROR unit.config-server/1.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-1: 01:32:55 ERROR unit.config-server/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-config-server-0: 01:32:56 ERROR unit.config-server/0.juju-log Unable to set params: ['vm.max_map_count']
unit-config-server-0: 01:32:56 ERROR unit.config-server/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 01:32:58 ERROR unit.shard-two/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-two-0: 01:32:58 ERROR unit.shard-two/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 01:32:59 ERROR unit.shard-one/1.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 01:32:59 ERROR unit.shard-one/1.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-2: 01:33:02 ERROR unit.shard-one/2.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-2: 01:33:02 ERROR unit.shard-one/2.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 01:33:03 ERROR unit.shard-one/0.juju-log Unable to set params: ['vm.max_map_count']
unit-shard-one-0: 01:33:03 ERROR unit.shard-one/0.juju-log Error setting values on sysctl: Unable to set params: ['vm.max_map_count']
unit-shard-one-1: 01:35:01 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc144b10c22954642315a, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: RSSecondary, rtt: 0.0007708739999543468>, <ServerDescription ('10.200.222.166', 27017) server_type: RSSecondary, rtt: 0.0007831069999610918>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0008917319999000028>]>
unit-shard-one-1: 01:35:05 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc148b10c22954642315b, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67bfc143a1df90f574a042bc'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 14984}")>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67bfc143e552ce701a6c9cb7'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 11201}")>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0008352350000677689>]>
unit-shard-one-1: 01:35:10 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc14cb10c22954642315c, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67bfc143a1df90f574a042bc'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 10929}")>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67bfc143e552ce701a6c9cb7'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 7550}")>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0007691599998906895>]>
unit-shard-one-1: 01:35:14 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc151b10c22954642315d, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67bfc143a1df90f574a042bc'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 6735}")>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67bfc143e552ce701a6c9cb7'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 3352}")>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0007519969999520981>]>
unit-shard-one-1: 01:35:18 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc155b10c22954642315e, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError("The server is in quiesce mode and will shut down, full error: {'topologyVersion': {'processId': ObjectId('67bfc143a1df90f574a042bc'), 'counter': 4}, 'ok': 0.0, 'errmsg': 'The server is in quiesce mode and will shut down', 'code': 91, 'codeName': 'ShutdownInProgress', 'remainingQuiesceTimeMillis': 2564}")>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('10.200.222.166:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 2000.0ms, connectTimeoutMS: 2000.0ms)')>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0011143310000534257>]>
unit-shard-one-1: 01:42:14 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc2f5ded4f163576f7973, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f12d1ad127a758562f\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 13949, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f18b907e72fd3d768e\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 14466, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0011520479999944655>]>
unit-shard-one-1: 01:42:19 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc2faded4f163576f7974, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f12d1ad127a758562f\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 9781, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f18b907e72fd3d768e\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 10481, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0012332500000411528>]>
unit-shard-one-1: 01:42:23 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc2feded4f163576f7975, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f12d1ad127a758562f\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 5619, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f18b907e72fd3d768e\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 6324, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0008614700000180164>]>
unit-shard-one-1: 01:42:27 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc302ded4f163576f7976, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f12d1ad127a758562f\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 1427, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.166', 27017) server_type: Unknown, rtt: None, error=NotPrimaryError('The server is in quiesce mode and will shut down, full error: {\'topologyVersion\': {\'processId\': ObjectId(\'67bfc2f18b907e72fd3d768e\'), \'counter\': 4}, \'ok\': 0.0, \'errmsg\': \'The server is in quiesce mode and will shut down\', \'code\': 91, \'codeName\': \'ShutdownInProgress\', \'remainingQuiesceTimeMillis\': 2130, \'lastCommittedOpTime\': Timestamp(0, 0), \'$clusterTime\': {\'clusterTime\': Timestamp(1740620530, 5), \'signature\': {\'hash\': b\'\\x07D\\x14\\xefk\\x99@q\\x08\\xd1\\xca\\xfe\\xf2"Y\\x11Za\\xd0-\', \'keyId\': 7475905906044043286}}, \'operationTime\': Timestamp(1740620512, 48)}')>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0011489600001368672>]>
unit-shard-one-1: 01:42:31 ERROR unit.shard-one/1.juju-log sharding:6: Unable to get primary: No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 67bfc306ded4f163576f7977, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('10.200.222.113', 27017) server_type: RSSecondary, rtt: 0.0011364879999291588>, <ServerDescription ('10.200.222.166', 27017) server_type: RSSecondary, rtt: 0.0008195609998438158>, <ServerDescription ('10.200.222.212', 27017) server_type: RSSecondary, rtt: 0.0010091480000937736>]>

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...