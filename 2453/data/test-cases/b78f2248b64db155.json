{"uid":"b78f2248b64db155","name":"test_multi_backup","fullName":"tests.integration.backup_tests.test_backups#test_multi_backup","historyId":"7de8ce0fd0ce3158e4ec3b7f422290ce","time":{"start":1734406403966,"stop":1734407594193,"duration":1190227},"description":"With writes in the DB test creating a backup while another one is running.\n\n    Note that before creating the second backup we change the bucket and change the s3 storage\n    from AWS to GCP. This test verifies that the first backup in AWS is made, the second backup\n    in GCP is made, and that before the second backup is made that pbm correctly resyncs.\n    ","descriptionHtml":"<p>With writes in the DB test creating a backup while another one is running.</p>\n<pre><code>Note that before creating the second backup we change the bucket and change the s3 storage\nfrom AWS to GCP. This test verifies that the first backup in AWS is made, the second backup\nin GCP is made, and that before the second backup is made that pbm correctly resyncs.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1734405798872,"stop":1734405798873,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1734405798873,"stop":1734405798873,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1734405798873,"stop":1734405799055,"duration":182},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_secrets","time":{"start":1734406296254,"stop":1734406296254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1734406402924,"stop":1734406402925,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes_to_db","time":{"start":1734406402925,"stop":1734406403966,"duration":1041},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"With writes in the DB test creating a backup while another one is running.\n\n    Note that before creating the second backup we change the bucket and change the s3 storage\n    from AWS to GCP. This test verifies that the first backup in AWS is made, the second backup\n    in GCP is made, and that before the second backup is made that pbm correctly resyncs.\n    ","status":"passed","steps":[],"attachments":[{"uid":"fb72882f007a1063","name":"log","source":"fb72882f007a1063.txt","type":"text/plain","size":8094}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes_to_db::finalizer","time":{"start":1734407594193,"stop":1734407597480,"duration":3287},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1734407597480,"stop":1734407597480,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1734410122841,"stop":1734410123227,"duration":386},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1734410123227,"stop":1734410123227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1734410123227,"stop":1734410123227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1734410123227,"stop":1734410123228,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.backup_tests"},{"name":"suite","value":"test_backups"},{"name":"host","value":"github-runner"},{"name":"thread","value":"18172-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.backup_tests.test_backups"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"af757ce38b0c880b","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":15,"passed":118,"unknown":5,"total":140},"items":[{"uid":"8b7d81ca09c1f74a","reportUrl":"../2452//#testresult/8b7d81ca09c1f74a","status":"passed","time":{"start":1734318878779,"stop":1734319649929,"duration":771150}},{"uid":"315ce0216d89a54e","reportUrl":"../2451//#testresult/315ce0216d89a54e","status":"passed","time":{"start":1734234758583,"stop":1734235403155,"duration":644572}},{"uid":"fd8308bdff11357b","reportUrl":"../2450//#testresult/fd8308bdff11357b","status":"passed","time":{"start":1734151478598,"stop":1734152008767,"duration":530169}},{"uid":"c6bb0a0763dd149d","reportUrl":"../2449//#testresult/c6bb0a0763dd149d","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1734059969748,"stop":1734059969748,"duration":0}},{"uid":"d159ecfc51db27a0","reportUrl":"../2446//#testresult/d159ecfc51db27a0","status":"passed","time":{"start":1733974942192,"stop":1733975522848,"duration":580656}},{"uid":"38faf875cccd72b9","reportUrl":"../2441//#testresult/38faf875cccd72b9","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1733885665429,"stop":1733885665429,"duration":0}},{"uid":"f618204490a63f81","reportUrl":"../2440//#testresult/f618204490a63f81","status":"passed","time":{"start":1733797466592,"stop":1733798519404,"duration":1052812}},{"uid":"d0aa91bf5140bed2","reportUrl":"../2438//#testresult/d0aa91bf5140bed2","status":"passed","time":{"start":1733714172927,"stop":1733715332857,"duration":1159930}},{"uid":"62c9857ffe8b9f99","reportUrl":"../2437//#testresult/62c9857ffe8b9f99","status":"failed","statusDetails":"AssertionError: Backup not created in first bucket on GCP.\nassert 3 == 1","time":{"start":1733627005889,"stop":1733627625322,"duration":619433}},{"uid":"a75f9e08af4061ba","reportUrl":"../2436//#testresult/a75f9e08af4061ba","status":"unknown","time":{}},{"uid":"8511906e0f7b00c1","reportUrl":"../2432//#testresult/8511906e0f7b00c1","status":"passed","time":{"start":1733457319744,"stop":1733458129863,"duration":810119}},{"uid":"635f7ed30bb5a85b","reportUrl":"../2424//#testresult/635f7ed30bb5a85b","status":"passed","time":{"start":1733371666398,"stop":1733372757953,"duration":1091555}},{"uid":"b0af61d01559733","reportUrl":"../2419//#testresult/b0af61d01559733","status":"passed","time":{"start":1733281490013,"stop":1733282711922,"duration":1221909}},{"uid":"7adc50e1933b6f1","reportUrl":"../2418//#testresult/7adc50e1933b6f1","status":"passed","time":{"start":1733195092228,"stop":1733196209984,"duration":1117756}},{"uid":"4f8a899a7af897f2","reportUrl":"../2417//#testresult/4f8a899a7af897f2","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1733110798677,"stop":1733110798677,"duration":0}},{"uid":"f6d4363c79e9b775","reportUrl":"../2416//#testresult/f6d4363c79e9b775","status":"passed","time":{"start":1733023413595,"stop":1733024518672,"duration":1105077}},{"uid":"57eb779b2105b117","reportUrl":"../2415//#testresult/57eb779b2105b117","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1732939415816,"stop":1732939415816,"duration":0}},{"uid":"145fedc4d227f9de","reportUrl":"../2414//#testresult/145fedc4d227f9de","status":"passed","time":{"start":1732852182215,"stop":1732853177998,"duration":995783}},{"uid":"3a68a723710cf9d9","reportUrl":"../2413//#testresult/3a68a723710cf9d9","status":"passed","time":{"start":1732765376697,"stop":1732766305419,"duration":928722}},{"uid":"9804654c9ad8a2b5","reportUrl":"../2411//#testresult/9804654c9ad8a2b5","status":"passed","time":{"start":1732679402852,"stop":1732680196994,"duration":794142}}]},"tags":["runner(['self-hosted', 'linux', 'X64', 'jammy', 'large'])","asyncio","abort_on_fail","group(1)"]},"source":"b78f2248b64db155.json","parameterValues":[]}